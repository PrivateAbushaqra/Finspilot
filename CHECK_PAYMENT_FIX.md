# โ ุชู ุฅูุบุงุก ุงุฎุชูุงุฑ ุงูุตูุฏูู ููุดููุงุช

## ๐ฏ ุงูุชุนุฏูู ุงููุทุจู

### ุงูุณุจุจ:
- ุงูุดููุงุช ุณุชูุฏุนู ูู ุฎูุงู **ุณูุฏ ุงููุจุถ**
- ุงูุตูุฏูู ุณูุชู ุชุญุฏูุฏู ูู ุณูุฏ ุงููุจุถ ูููุณ ูู ุงููุงุชูุฑุฉ ูุจุงุดุฑุฉ
- ุฅุจูุงุก ุงุฎุชูุงุฑ ุงูุตูุฏูู **ููุท ููุฏูุน ุงูููุฏู**

---

## ๐ ุงูุชุนุฏููุงุช ุงููุทุจูุฉ

### 1. ููู `templates/sales/invoice_add.html` (3 ุชุนุฏููุงุช)

#### ุงูุชุบููุฑ ุงูุฃูู (ุงูุณุทุฑ 2117):
**ุฅูุบุงุก ุงูุดููุงุช ูู ุดุฑุท ุฅุธูุงุฑ ุงูุตูุฏูู:**

```javascript
// ูุจู
if (paymentType === 'cash' || paymentType === 'check') {
    cashboxContainer.style.display = 'block';
}

// ุจุนุฏ โ
if (paymentType === 'cash') {  // ููุท ุงูููุฏ
    cashboxContainer.style.display = 'block';
}
```

**ุงูุชุนููู ุงููุถุงู:**
```javascript
// ุฅุธูุงุฑ ุญูู ุงูุตูุฏูู ููุท ุนูุฏ ุงุฎุชูุงุฑ "ููุฏุงู"
// ุงูุดููุงุช ุชูุนุงูุฌ ูู ุฎูุงู ุณูุฏ ุงููุจุถ
```

---

#### ุงูุชุบููุฑ ุงูุซุงูู (ุงูุณุทุฑ 2147):
**ุฅูุบุงุก ุงูุดููุงุช ูู ุนุฑุถ ุงูุตูุฏูู ุนูุฏ ุงูุชุญููู:**

```javascript
// ูุจู
if (currentPaymentType === 'cash' || currentPaymentType === 'check') {
    cashboxContainer.style.display = 'block';
}

// ุจุนุฏ โ
if (currentPaymentType === 'cash') {  // ููุท ุงูููุฏ
    cashboxContainer.style.display = 'block';
}
```

**ุงูุชุนููู ุงููุถุงู:**
```javascript
// ุฅุธูุงุฑ ุงูุตูุฏูู ููุท ุฅุฐุง ูุงู ููุน ุงูุฏูุน "ููุฏุงู"
// ุงูุดููุงุช ุชูุนุงูุฌ ูู ุฎูุงู ุณูุฏ ุงููุจุถ
```

---

#### ุงูุชุบููุฑ ุงูุซุงูุซ (ุงูุณุทุฑ 345):
**ุชุญุฏูุซ ุงูุชุนููู ูู HTML:**

```html
<!-- ูุจู -->
<!-- ูุงุฆูุฉ ุงูุตูุงุฏูู: ุชุธูุฑ ูุฌููุน ุงููุณุชุฎุฏููู ุนูุฏ ุงุฎุชูุงุฑ "ููุฏุงู" ุฃู "ุดูู" -->

<!-- ุจุนุฏ โ -->
<!-- ูุงุฆูุฉ ุงูุตูุงุฏูู: ุชุธูุฑ ูุฌููุน ุงููุณุชุฎุฏููู ุนูุฏ ุงุฎุชูุงุฑ "ููุฏุงู" ููุท -->
<!-- ุงูุดููุงุช ุชูุนุงูุฌ ูู ุฎูุงู ุณูุฏ ุงููุจุถ -->
```

---

### 2. ููู `sales/views.py` (3 ุชุนุฏููุงุช)

#### ุงูุชุบููุฑ ุงูุฃูู (ุงูุณุทุฑ 442-444):
**ุฅูุบุงุก ุงูุดููุงุช ูู ุงูุญุตูู ุนูู ุงูุตูุฏูู:**

```python
# ูุจู
cashbox_id = request.POST.get('cashbox') if payment_type in ['cash', 'check'] else None
set_default_cashbox = request.POST.get('set_default_cashbox') == 'on' and payment_type in ['cash', 'check']

# ุจุนุฏ โ
cashbox_id = request.POST.get('cashbox') if payment_type == 'cash' else None
set_default_cashbox = request.POST.get('set_default_cashbox') == 'on' and payment_type == 'cash'
```

**ุงูุชุนููู ุงููุญุฏูุซ:**
```python
# ุงูุญุตูู ุนูู ุงูุตูุฏูู ููุท ููุฏูุน ุงูููุฏู (ุงูุดููุงุช ุชูุนุงูุฌ ูู ุฎูุงู ุณูุฏ ุงููุจุถ)
```

---

#### ุงูุชุบููุฑ ุงูุซุงูู (ุงูุณุทุฑ 526):
**ุฅูุบุงุก ุงูุดููุงุช ูู ุดุฑุท ุงูุตูุฏูู:**

```python
# ูุจู
if payment_type in ['cash', 'check']:
    cashbox = ...

# ุจุนุฏ โ
if payment_type == 'cash':
    cashbox = ...
```

**ุงูุชุนููู ุงููุญุฏูุซ:**
```python
# ุงูุญุตูู ุนูู ุงูุตูุฏูู ููุท ููุฏูุน ุงูููุฏู (ุงูุดููุงุช ุชูุนุงูุฌ ูู ุฎูุงู ุณูุฏ ุงููุจุถ)
```

---

#### ุงูุชุบููุฑ ุงูุซุงูุซ (ุงูุณุทุฑ 856-858):
**ุฅูุบุงุก ุงูุดููุงุช ูู ุณุฌู ุงููุดุงุท:**

```python
# ูุจู
if payment_type in ['cash', 'check'] and cashbox:
    payment_method = _('ููุฏู') if payment_type == 'cash' else _('ุดูู')
    activity_desc += _(' - ุฏูุน %(method)s ูู ุงูุตูุฏูู: %(cashbox)s') % {...}

# ุจุนุฏ โ
if payment_type == 'cash' and cashbox:
    activity_desc += _(' - ุฏูุน ููุฏู ูู ุงูุตูุฏูู: %(cashbox)s') % {'cashbox': cashbox.name}
```

---

## ๐ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ

### ุณููุงุฑูู 1: ุฏูุน ููุฏู โ
```
http://127.0.0.1:8000/ar/sales/invoices/add/
โ ุงุฎุชุฑ "ููุฏุงู"
โ ูุธูุฑ ุญูู "ุงูุตูุฏูู ุงูููุฏู" โ
โ ูุงุฆูุฉ ููุณุฏูุฉ ุจุฌููุน ุงูุตูุงุฏูู โ
โ ูุชู ุญูุธ ุงููุงุชูุฑุฉ ูุน ุงูุตูุฏูู โ
```

### ุณููุงุฑูู 2: ุฏูุน ุจุงูุดูู โ
```
http://127.0.0.1:8000/ar/sales/invoices/add/
โ ุงุฎุชุฑ "ุดูู"
โ ูุง ูุธูุฑ ุญูู ุงูุตูุฏูู โ
โ ูุชู ุญูุธ ุงููุงุชูุฑุฉ ุจุฏูู ุตูุฏูู โ
โ ุงูุตูุฏูู ุณููุญุฏุฏ ูุงุญูุงู ูู ุฎูุงู ุณูุฏ ุงููุจุถ โ
```

### ุณููุงุฑูู 3: ุฏูุน ุขุฌู โ
```
http://127.0.0.1:8000/ar/sales/invoices/add/
โ ุงุฎุชุฑ "ุฐูู (ุขุฌู)"
โ ูุง ูุธูุฑ ุญูู ุงูุตูุฏูู โ
โ ูุชู ุญูุธ ุงููุงุชูุฑุฉ ูุฐูู ูุฏููุฉ โ
```

---

## ๐ ููุฎุต ุงูุชุนุฏููุงุช

| ุงูููู | ุงูุชุนุฏููุงุช | ุงูุบุฑุถ |
|------|----------|-------|
| `templates/sales/invoice_add.html` | 3 ุชุนุฏููุงุช | ุฅูุบุงุก ุงูุดููุงุช ูู JavaScript ู HTML |
| `sales/views.py` | 3 ุชุนุฏููุงุช | ุฅูุบุงุก ุงูุดููุงุช ูู ูุนุงูุฌุฉ ุงูุตูุฏูู |
| **ุงููุฌููุน** | **6 ุชุนุฏููุงุช** | **ุฅุจูุงุก ุงูุตูุฏูู ููููุฏ ููุท** |

---

## ๐ ุชุฏูู ูุนุงูุฌุฉ ุงูุดููุงุช (ุงููุฎุทุท ุงูุฌุฏูุฏ)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ุฅูุดุงุก ูุงุชูุฑุฉ ูุจูุนุงุช ุจุดูู       โ
โ  payment_type = 'check'         โ
โโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโ
            โ
            โผ
    โโโโโโโโโโโโโโโโโโโโโ
    โ  ุญูุธ ุงููุงุชูุฑุฉ      โ
    โ  cashbox = NULL   โ  โ ูุง ูุชู ุชุญุฏูุฏ ุตูุฏูู
    โโโโโโโโโโโโโฌโโโโโโโโ
                โ
                โผ
        โโโโโโโโโโโโโโโโโโโโโ
        โ  ุฅูุดุงุก ุณูุฏ ูุจุถ     โ
        โ  receipt voucher  โ
        โโโโโโโโโโโโโฌโโโโโโโโ
                    โ
                    โผ
            โโโโโโโโโโโโโโโโโโโโ
            โ  ุชุญุฏูุฏ ุงูุตูุฏูู   โ
            โ  ูู ุณูุฏ ุงููุจุถ    โ  โ ููุง ููุญุฏุฏ ุงูุตูุฏูู
            โโโโโโโโโโโโฌโโโโโโโโ
                       โ
                       โผ
                โโโโโโโโโโโโโโโโโโโ
                โ  ุฅูุฏุงุน ุงูุดูู     โ
                โ  ูู ุงูุตูุฏูู      โ
                โโโโโโโโโโโโโโโโโโโ
```

---

## โ ุงูุชุฃููุฏ

- [x] ุญูู ุงูุตูุฏูู ูุธูุฑ ููุท ููุฏูุน ุงูููุฏู
- [x] ุญูู ุงูุตูุฏูู ูุง ูุธูุฑ ููุดููุงุช
- [x] ุงูุดููุงุช ุณุชูุนุงูุฌ ูู ุฎูุงู ุณูุฏ ุงููุจุถ
- [x] ูู ูุชู ุฑูุน ุงูุชุนุฏููุงุช ุนูู ุงูุฑูููุช
- [x] ุฌููุน ุงูุชุนุฏููุงุช ูุญููุฉ

---

## ๐ ููุงุญุธุฉ ููุงุฆูุฉ

**ูู ูุชู ุฑูุน ุฃู ุดูุก ุนูู GitHub** (ุญุณุจ ุทูุจู)

ุงูุชุนุฏููุงุช ููุฌูุฏุฉ ููุท ุนูู ุงูุฌูุงุฒ ุงููุญูู. ููููู ุงุฎุชุจุงุฑูุง ุงูุขู:

```bash
# ุชุดุบูู ุงูุณูุฑูุฑ
python manage.py runserver

# ูุชุญ ุงูุตูุญุฉ
http://127.0.0.1:8000/ar/sales/invoices/add/

# ุงุฎุชุจุงุฑ:
1. ุงุฎุชุฑ "ููุฏุงู" โ ูุธูุฑ ุงูุตูุฏูู โ
2. ุงุฎุชุฑ "ุดูู" โ ูุง ูุธูุฑ ุงูุตูุฏูู โ
3. ุงุฎุชุฑ "ุฐูู (ุขุฌู)" โ ูุง ูุธูุฑ ุงูุตูุฏูู โ
```
