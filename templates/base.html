{% load i18n %}
{% load custom_i18n %}
{% get_current_language as LANGUAGE_CODE %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}" {% if LANGUAGE_CODE == 'ar' %}dir="rtl"{% else %}dir="ltr"{% endif %}>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% trans "Finspilot - Accounting System" %}{% endblock %}</title>
    
    <!-- Bootstrap CSS -->
    {% if LANGUAGE_CODE == 'ar' %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
    {% else %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    {% endif %}
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Responsive CSS -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'core/css/responsive.css' %}">
    <link rel="stylesheet" href="{% static 'core/css/table-responsive.css' %}">>
    
    <!-- Session Management CSS -->
    {% if user.is_authenticated %}
    <link rel="stylesheet" href="{% static 'core/css/session-management.css' %}">
    {% endif %}
    
    <!-- Session settings for JavaScript -->
    {% if user.is_authenticated %}
        {% load settings_tags %}
        {% get_session_settings as session_settings %}
        <meta name="session-timeout" content="{{ session_settings.timeout_minutes }}">
        <meta name="session-timeout-enabled" content="{{ session_settings.enable_timeout|yesno:'true,false' }}">
        <meta name="logout-on-browser-close" content="{{ session_settings.logout_on_browser_close|yesno:'true,false' }}">
    {% endif %}
    
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
        }
        
        /* Print CSS */
        @media print {
            .no-print, .sidebar, .navbar, .btn, .pagination, 
            .dropdown, .modal, .toast, .alert-dismissible .btn-close,
            .print-hide, .search-filters, .filters, .form-control,
            .page-title-right, .card-header .d-flex .btn, .action-buttons,
            .actions-column, .edit-column, .delete-column, .d-none {
                display: none !important;
            }
            
            * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            body {
                background-color: white !important;
                color: black !important;
                font-size: 8pt;
                line-height: 1.1;
                margin: 0;
                padding: 0;
                font-family: 'Arial', sans-serif;
            }
            
            .container, .container-fluid {
                width: 100% !important;
                max-width: none !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            
            .row {
                margin: 0 !important;
            }
            
            .col, .col-12, [class*="col-"] {
                padding: 0 !important;
                width: 100% !important;
            }
            
            .card {
                border: none !important;
                box-shadow: none !important;
                page-break-inside: avoid;
                margin: 0;
                width: 100%;
            }
            
            .card-header {
                background-color: #f8f9fa !important;
                color: black !important;
                border: 2px solid #000 !important;
                text-align: center;
                padding: 8px 0;
                margin-bottom: 15px;
                font-weight: bold;
                font-size: 12pt;
            }
            
            .card-title, h1, h2, h3, h4, h5, h6, .page-title {
                color: black !important;
                text-align: center;
                font-size: 11pt;
                font-weight: bold;
                margin: 5px 0;
            }
            
            .card-body {
                padding: 0 !important;
            }
            
            /* Improve table display */
            .table-responsive {
                overflow: visible !important;
            }
            
            .table {
                border-collapse: collapse !important;
                width: 100% !important;
                margin: 0 !important;
                font-size: 7pt;
                table-layout: auto;
                border: 2px solid #000 !important;
                background-color: white !important;
            }
            
            .table th, .table td {
                border: 1px solid #000 !important;
                padding: 2px 1px !important;
                text-align: center !important;
                word-wrap: break-word;
                vertical-align: middle;
                font-size: 7pt;
                overflow: visible;
                white-space: normal;
                max-width: none;
            }
            
            .table thead th {
                background-color: #e9ecef !important;
                color: black !important;
                font-weight: bold !important;
                font-size: 8pt;
                border: 2px solid #000 !important;
                text-align: center !important;
            }
            
            .table tbody tr:nth-child(even) {
                background-color: #f8f9fa !important;
            }
            
            .table tbody tr:nth-child(odd) {
                background-color: white !important;
            }
            
            /* Hide actions column and buttons properly */
            .table th:last-child, 
            .table td:last-child,
            .table th:nth-last-child(1),
            .table td:nth-last-child(1),
            .table th:nth-last-child(2),
            .table td:nth-last-child(2),
            .actions-column,
            .action-buttons,
            .btn-group,
            .btn-sm,
            .edit-btn,
            .delete-btn,
            .view-btn,
            .operations-column,
            th:contains("Actions"),
            th:contains("Operations"),
            th:contains("Control"),
            th:contains("Manage") {
                display: none !important;
                visibility: hidden !important;
            }
            
            /* Show all important data */
            .table th:not(.actions-column):not([class*="action"]):not([class*="btn"]),
            .table td:not(.actions-column):not([class*="action"]):not([class*="btn"]) {
                display: table-cell !important;
                visibility: visible !important;
            }
            
            /* Improve colored text display */
            .text-primary, .text-success, .text-danger, .text-warning, .text-info, .text-secondary {
                color: black !important;
            }
            
            .badge {
                color: black !important;
                border: 1px solid black !important;
                background-color: white !important;
                font-size: 6pt;
                padding: 1px 3px;
            }
            
            /* Improve financial data display */
            .balance, .amount, .price, .total, .currency {
                font-weight: bold !important;
                text-align: right !important;
                direction: ltr;
            }
            
            /* Enhanced print header */
            .print-header {
                text-align: center;
                margin-bottom: 20px;
                border-bottom: 3px solid #000;
                padding-bottom: 10px;
                background-color: #f8f9fa !important;
                font-size: 14pt;
                font-weight: bold;
            }
            
            .print-date {
                text-align: left;
                margin-bottom: 10px;
                font-size: 7pt;
                border-bottom: 1px solid #666;
                padding-bottom: 3px;
                direction: ltr;
            }
            
            .print-company-info {
                text-align: center;
                margin-bottom: 15px;
                font-size: 10pt;
                font-weight: bold;
                border: 2px solid #000;
                padding: 5px;
                background-color: #f0f0f0 !important;
            }
            
            /* Improve page breaks */
            .page-break {
                page-break-before: always;
            }
            
            @page {
                margin: 0.5cm;
                size: A4 landscape;
            }
            
            /* Prevent breaking rows and important elements */
            .table tr {
                page-break-inside: avoid;
            }
            
            .card {
                page-break-inside: avoid;
            }
            
            /* Advanced page number settings */
            @page {
                margin: 0.5cm;
                size: A4 landscape;
                @bottom-center {
                    content: "Page " counter(page) " of " counter(pages);
                    font-size: 8pt;
                    font-weight: bold;
                }
                @top-center {
                    content: "Print Date: " attr(data-print-date);
                    font-size: 7pt;
                }
            }
            
            /* Improve long data display */
            .long-text {
                white-space: normal !important;
                word-wrap: break-word !important;
                max-width: 100px;
            }
            
            /* Improve dates and numbers display */
            .date-column, .number-column, .id-column {
                white-space: nowrap !important;
                font-family: 'Courier New', monospace;
                font-size: 7pt;
            }
            
            /* Hide unnecessary elements */
            .search-form, .filter-form, .pagination-wrapper,
            .alert, .message, .notification, .tooltip,
            .popover, .modal-backdrop, .offcanvas {
                display: none !important;
            }
            
            /* Improve numeric data display */
            .numeric-data {
                text-align: right !important;
                font-family: 'Courier New', monospace;
                direction: ltr;
            }
        }
        
        .sidebar {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        }
        
        .sidebar .nav-link {
            color: rgba(255,255,255,0.8);
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            margin: 0.25rem 0;
            transition: all 0.3s ease;
        }
        
        .sidebar .nav-link:hover {
            color: #fff;
            background-color: rgba(255,255,255,0.1);
            transform: translateX(-5px);
        }
        
        .sidebar .nav-link.active {
            color: #fff !important;
            background-color: #007bff !important;
            border-radius: 5px;
            font-weight: bold;
            position: relative;
            border-left: 4px solid #28a745;
        }
        
        .sidebar .nav-link.active::before {
            content: "â—";
            color: #28a745;
            font-size: 12px;
            position: absolute;
            left: 8px;
            top: 50%;
            transform: translateY(-50%);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .sidebar .nav-link.active i {
            color: white !important;
        }
        
        /* Highlight main menu containing active page */
        .sidebar .nav-item.has-active-child > a[data-bs-toggle="collapse"] {
            background-color: rgba(0, 123, 255, 0.1);
            border-left: 3px solid #007bff;
            font-weight: bold;
        }
        
        .main-content {
            padding: 2rem;
        }
        
        .card {
            border: none;
            border-radius: 0.75rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0,0,0,0.075);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15);
        }
        
        .card-header {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-radius: 0.75rem 0.75rem 0 0 !important;
        }
        
        .navbar {
            background: white !important;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .company-logo {
            opacity: 0.1;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: -1;
            max-width: 500px;
            max-height: 500px;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #dc3545;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .stats-card {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-radius: 1rem;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
        }
        
        .btn-primary:hover {
            background: linear-gradient(45deg, #764ba2, #667eea);
            transform: translateY(-1px);
        }
        
        /* Language Selector Styles */
        #languageDropdown {
            color: #495057;
        }
        
        #languageDropdown:hover {
            color: #007bff;
        }
        
        .dropdown-item.active {
            background-color: #f8f9fa;
            color: #007bff;
        }
        
        .dropdown-item button {
            background: none;
            border: none;
            width: 100%;
            text-align: right;
            padding: 0;
            color: inherit;
        }
        
        .dropdown-item:hover button {
            color: inherit;
        }
        
        /* AJAX Loading improvements */
        .main-content {
            min-height: 500px;
            transition: opacity 0.2s ease-in-out;
        }
        
        .sidebar .nav-link.loading {
            opacity: 0.6;
            pointer-events: none;
        }
        
        /* Add effect for active link */
        .sidebar .nav-link.active {
            background-color: rgba(255,255,255,0.2) !important;
            color: #fff !important;
            border-right: 3px solid #fff;
        }
    </style>
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Company Logo Background -->
    {% if company_settings.logo %}
    <img src="{{ company_settings.logo.url }}" class="company-logo" alt="{% trans 'Company Logo' %}">
    {% endif %}
    
    <!-- Top Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="{% url 'core:dashboard' %}">
                <i class="fas fa-chart-line me-2"></i>
                {{ company_settings.company_name }} - {% trans "Dashboard" %}
            </a>
            
            <div class="navbar-nav ms-auto">
                <!-- Language Selector -->
                <div class="nav-item dropdown me-3">
                    <a class="nav-link dropdown-toggle" href="#" id="languageDropdown" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-globe me-1"></i>
                        {% get_current_language as LANGUAGE_CODE %}
                        {% if LANGUAGE_CODE == 'ar' %}{% trans "Arabic" %}{% else %}{% trans "English" %}{% endif %}
                    </a>
                    <ul class="dropdown-menu">
                        <li>
                            <form action="{% url 'set_language' %}" method="post" style="display: inline;" class="language-form" data-target-lang="ar">
                                {% csrf_token %}
                                <input name="next" type="hidden" value="{{ request.get_full_path }}" class="next-field" />
                                <input name="language" type="hidden" value="ar" />
                                <button type="submit" class="dropdown-item {% if LANGUAGE_CODE == 'ar' %}active{% endif %}">
                                    <i class="fas fa-check me-2" {% if LANGUAGE_CODE != 'ar' %}style="visibility: hidden;"{% endif %}></i>
                                    {% trans "Arabic" %}
                                </button>
                            </form>
                        </li>
                        <li>
                            <form action="{% url 'set_language' %}" method="post" style="display: inline;" class="language-form" data-target-lang="en">
                                {% csrf_token %}
                                <input name="next" type="hidden" value="{{ request.get_full_path }}" class="next-field" />
                                <input name="language" type="hidden" value="en" />
                                <button type="submit" class="dropdown-item {% if LANGUAGE_CODE == 'en' %}active{% endif %}">
                                    <i class="fas fa-check me-2" {% if LANGUAGE_CODE != 'en' %}style="visibility: hidden;"{% endif %}></i>
                                    {% trans "English" %}
                                </button>
                            </form>
                        </li>
                    </ul>
                </div>
                
                <!-- Notifications -->
                {% if user.is_authenticated %}
                <div class="nav-item dropdown me-3">
                    <a class="nav-link position-relative" href="{% url 'core:notifications' %}" id="notificationDropdown">
                        <i class="fas fa-bell fa-lg"></i>
                        {% if unread_notifications_count > 0 %}
                        <span class="notification-badge">{{ unread_notifications_count }}</span>
                        {% endif %}
                    </a>
                </div>
                
                <!-- User Menu -->
                <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
                        <i class="fas fa-user me-1"></i>
                        {{ user.get_full_name|default:user.username }}
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{% url 'settings:index' %}"><i class="fas fa-cog me-2"></i>{% trans "Settings" %}</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="{% url 'auth:logout' %}"><i class="fas fa-sign-out-alt me-2"></i>{% trans "Logout" %}</a></li>
                    </ul>
                </div>
                {% endif %}
            </div>
        </div>
    </nav>
    
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            {% if user.is_authenticated and user.user_type != 'pos_user' %}
            <nav class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <!-- {% trans "Comprehensive Search" %} -->
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'search:search' %}">
                                <i class="fas fa-search me-2"></i>
                                {% trans "Global Search" %}
                            </a>
                        </li>
                        <!-- Dashboard -->
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'core:dashboard' %}">
                                <i class="fas fa-home me-2"></i>
                                {% trans "Dashboard" %}
                            </a>
                        </li>                    
                        <!-- Bank Accounts -->
                        {% if user.has_banks_permission %}
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#banksMenu">
                                <i class="fas fa-university me-2"></i>
                                {% trans "Bank Accounts" %}
                            </a>
                            <div class="collapse" id="banksMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'banks:account_add' %}">{% trans "Add Account" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'banks:account_list' %}">{% trans "Accounts List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'banks:transfer_list' %}">{% trans "Transfers List" %}</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        {% endif %}
                        
                        <!-- Cashboxes -->
                        {% if user.has_cashboxes_permission %}
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#cashboxesMenu">
                                <i class="fas fa-cash-register me-2"></i>
                                {% trans "Cash Boxes" %}
                            </a>
                            <div class="collapse" id="cashboxesMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'cashboxes:cashbox_list' %}">{% trans "Cashboxes List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'cashboxes:transfer_list' %}">{% trans "Transfers List" %}</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        {% endif %}
                        
                        <!-- Payment Receipts -->
                        {% if user.has_receipts_permission %}
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#receiptsMenu">
                                <i class="fas fa-receipt me-2"></i>
                                {% trans "Payment Receipts" %}
                            </a>
                            <div class="collapse" id="receiptsMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'receipts:receipt_add' %}">{% trans "Add Payment Receipt" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'receipts:receipt_list' %}">{% trans "Receipts List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'receipts:check_list' %}">{% trans "Checks Management" %}</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        {% endif %}
                        
                        <!-- Payment Vouchers -->
                        {% if user.has_receipts_permission %}
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#paymentsMenu">
                                <i class="fas fa-money-bill-wave me-2"></i>
                                {% trans "Payment Vouchers" %}
                            </a>
                            <div class="collapse" id="paymentsMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'payments:voucher_create' %}">{% trans "Add Payment Voucher" %}</a>
                                    </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="{% url 'payments:voucher_list' %}">{% trans "Vouchers List" %}</a>
                                        </li>
                                </ul>
                            </div>
                        </li>
                        {% endif %}
                        
                        <!-- Products & Categories -->
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#productsMenu">
                                <i class="fas fa-boxes me-2"></i>
                                {% trans "Categories & Products" %}
                            </a>
                            <div class="collapse" id="productsMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'products:category_add' %}">{% trans "Add Category" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'products:product_add' %}">{% trans "Add Product" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'products:category_list' %}">{% trans "Categories List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'products:product_list' %}">{% trans "Products List" %}</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        
                        <!-- Customers & Suppliers -->
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#customersMenu">
                                <i class="fas fa-users me-2"></i>
                                {% trans "Customers & Suppliers" %}
                            </a>
                            <div class="collapse" id="customersMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'customers:add' %}">{% trans "Add Customer/Supplier" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'customers:customer_list' %}">{% trans "Customers List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'customers:supplier_list' %}">{% trans "Suppliers List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'customers:list' %}">{% trans "All Customers & Suppliers" %}</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        
                        <!-- Purchases -->
                        {% if user.has_purchases_permission %}
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#purchasesMenu">
                                <i class="fas fa-shopping-cart me-2"></i>
                                {% trans "Purchases" %}
                            </a>
                            <div class="collapse" id="purchasesMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'purchases:invoice_add' %}">{% trans "Create Purchase Invoice" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'purchases:return_add' %}">{% trans "Create Purchase Return" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'purchases:invoice_list' %}">{% trans "Purchase Invoices List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'purchases:return_list' %}">{% trans "Purchase Returns List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'purchases:purchase_statement' %}">{% trans "Purchase Statement" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'purchases:purchase_return_statement' %}">{% trans "Purchase Return Statement" %}</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        {% endif %}
                        
                        <!-- Sales -->
                        {% if user.has_sales_permission %}
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#salesMenu">
                                <i class="fas fa-cash-register me-2"></i>
                                {% trans "Sales" %}
                            </a>
                            <div class="collapse" id="salesMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'sales:invoice_add' %}">{% trans "Create Sales Invoice" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'sales:return_add' %}">{% trans "Create Sales Return" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'sales:invoice_list' %}">{% trans "Sales Invoices List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'sales:return_list' %}">{% trans "Sales Returns List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'sales:sales_statement' %}">{% trans "Sales Statement" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'sales:sales_return_statement' %}">{% trans "Sales Returns Statement" %}</a>
                                    </li>
                                    {% if user.has_pos_permission %}
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'sales:pos' %}">{% trans "Point of Sale" %}</a>
                                    </li>
                                    {% endif %}
                                </ul>
                            </div>
                        </li>
                        {% endif %}
                        
                        <!-- Inventory -->
                        {% if user.has_inventory_permission %}
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#inventoryMenu">
                                <i class="fas fa-warehouse me-2"></i>
                                {% trans "Inventory" %}
                            </a>
                            <div class="collapse" id="inventoryMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'inventory:list' %}">{% trans "View Inventory" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'inventory:warehouse_list' %}">{% trans "Warehouses" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'inventory:movement_list' %}">{% trans "Inventory Movement" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'inventory:low_stock' %}">{% trans "Stock Alerts" %}</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        {% endif %}
                        
                        <!-- Revenues & Expenses -->
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#revenuesExpensesMenu">
                                <i class="fas fa-chart-line me-2"></i>
                                {% trans "Revenues & Expenses" %}
                            </a>
                            <div class="collapse" id="revenuesExpensesMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'revenues_expenses:dashboard' %}">{% trans "Dashboard" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'revenues_expenses:category_list' %}">{% trans "Manage Categories" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'revenues_expenses:entry_list' %}">{% trans "Entries List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'revenues_expenses:entry_create' %}">{% trans "Add New Entry" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'revenues_expenses:recurring_list' %}">{% trans "Recurring Revenue" %}</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        
                        <!-- Journal Entries -->
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#journalMenu">
                                <i class="fas fa-book me-2"></i>
                                {% trans "Journal Entries" %}
                            </a>
                            <div class="collapse" id="journalMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'journal:dashboard' %}">{% trans "Dashboard" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'journal:entry_list' %}">{% trans "All Entries" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'journal:entries_by_type' %}">{% trans "Entries by Type" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'journal:entry_create' %}">{% trans "Create Manual Entry" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'journal:account_list' %}">{% trans "Chart of Accounts" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'journal:trial_balance' %}">{% trans "Trial Balance" %}</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        
                        <!-- Assets & Liabilities -->
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#assetsLiabilitiesMenu">
                                <i class="fas fa-balance-scale me-2"></i>
                                {% trans "Assets & Liabilities" %}
                            </a>
                            <div class="collapse" id="assetsLiabilitiesMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'assets_liabilities:dashboard' %}">{% trans "Dashboard" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'assets_liabilities:asset_list' %}">{% trans "Assets List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'assets_liabilities:liability_list' %}">{% trans "Liabilities List" %}</a>
                                    </li>
                                </ul>
                            </div>
                        </li>

                        <!-- Reports -->
                        {% if user.has_reports_permission %}
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#reportsMenu">
                                <i class="fas fa-chart-bar me-2"></i>
                                {% trans "Reports" %}
                            </a>
                            <div class="collapse" id="reportsMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'sales:sales_report' %}">{% trans "Sales Reports" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'purchases:purchase_report' %}">{% trans "Purchase Reports" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'core:tax_report' %}">{% trans "Tax Report" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'core:profit_loss_report' %}">{% trans "Profit and Loss" %}</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        {% endif %}
                        
                        <!-- System Management -->
                        {% if user.has_system_management_permission %}
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#systemMenu">
                                <i class="fas fa-cogs me-2"></i>
                                {% trans "System Management" %}
                            </a>
                            <div class="collapse" id="systemMenu">
                                <ul class="nav flex-column ms-3">
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'users:user_add' %}">{% trans "Add User" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'users:user_list' %}">{% trans "Users List" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'users:group_list' %}">{% trans "Groups & Permissions" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'core:audit_log' %}">
                                            <i class="fas fa-history me-2"></i>
                                            {% trans "Activity Log" %}
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'settings:document_sequences' %}">{% trans "Document Number Management" %}</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'settings:company' %}">{% trans "System Settings" %}</a>
                                    </li>
                                    
                                    <!-- System Management - For Super Admin and Admin -->
                                    {% if user.user_type == 'superadmin' or user.user_type == 'admin' or user.is_superuser or user.has_company_settings_permission %}
                                    
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'settings:superadmin_management' %}">
                                            <i class="fas fa-crown me-2 text-warning"></i>
                                            {% trans "System Management" %}
                                            <span class="badge bg-danger ms-1">{% trans "Advanced" %}</span>
                                        </a>
                                    </li>
                                    
                                    <!-- Print Design Settings -->
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'settings:print_design' %}">
                                            <i class="fas fa-paint-brush me-2 text-success"></i>
                                            {% trans "Print Design" %}
                                        </a>
                                    </li>
                                    
                                    <!-- Backup and Restore -->
                                    <li class="nav-item">
                                        <a class="nav-link" href="{% url 'backup:backup_restore' %}">
                                            <i class="fas fa-database me-2 text-info"></i>
                                            {% trans "Backup" %}
                                        </a>
                                    </li>
                                    {% endif %}
                                </ul>
                            </div>
                        </li>
                        {% endif %}
                    </ul>
                </div>
            </nav>
            {% endif %}
            
            <!-- Main Content -->
            <main class="{% if user.is_authenticated and user.user_type != 'pos_user' %}col-md-9 ms-sm-auto col-lg-10{% else %}col-12{% endif %} px-md-4">
                <div class="main-content" id="main-content">
                    {% if messages %}
                        {% for message in messages %}
                        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                            {{ message }}
                            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                        </div>
                        {% endfor %}
                    {% endif %}
                    
                    {% block content %}{% endblock %}
                </div>
            </main>
        </div>
    </div>
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Function to determine active page in sidebar
        function setActiveSidebarItem() {
            const currentUrl = window.location.pathname;
            const sidebarLinks = document.querySelectorAll('.sidebar .nav-link[href]');
            
            // Remove active from all links
            sidebarLinks.forEach(link => {
                link.classList.remove('active');
                // Remove has-active-child from other menus
                const parentNavItem = link.closest('.nav-item');
                if (parentNavItem) {
                    parentNavItem.classList.remove('has-active-child');
                }
            });
            
            // Find the link matching the current page
            let activeLink = null;
            let exactMatch = false;
            
            sidebarLinks.forEach(link => {
                const linkPath = new URL(link.href).pathname;
                
                // Exact match
                if (linkPath === currentUrl) {
                    activeLink = link;
                    exactMatch = true;
                }
                // Partial match (if no exact match found)
                else if (!exactMatch && currentUrl.startsWith(linkPath) && linkPath !== '/') {
                    activeLink = link;
                }
            });
            
            // Activate the link
            if (activeLink) {
                activeLink.classList.add('active');
                
                // Find the parent menu and submenu containing this link
                const parentCollapse = activeLink.closest('.collapse');
                if (parentCollapse) {
                    // Open the submenu
                    const bsCollapse = new bootstrap.Collapse(parentCollapse, {show: true});
                    bsCollapse.show();
                    
                    // Highlight the parent menu
                    const mainNavItem = parentCollapse.closest('.nav-item');
                    if (mainNavItem) {
                        mainNavItem.classList.add('has-active-child');
                    }
                    
                    // Save the open menu state
                    localStorage.setItem('sidebar_' + parentCollapse.id, 'open');
                }
            }
        }
        
        // Select the active page on page load
        setActiveSidebarItem();
        
        // Handle clicks on sidebar links
        const sidebarLinks = document.querySelectorAll('.sidebar .nav-link[href]:not([data-bs-toggle])');
        
        sidebarLinks.forEach(link => {
            // Ignore links that open dropdowns or external links
            if (link.getAttribute('data-bs-toggle') === 'collapse' || 
                link.href.startsWith('mailto:') || 
                link.href.startsWith('tel:') ||
                link.href.includes('#') ||
                link.href.includes('admin:logout') ||
                link.closest('[data-bs-toggle="collapse"]')) {
                return;
            }
            
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                const url = this.href;
                const mainContent = document.getElementById('main-content');
                
                // Avoid reloading the same page
                if (window.location.href === url) {
                    return;
                }
                
                // {% trans "Add" %} loading indicator
                this.classList.add('loading');
                mainContent.style.opacity = '0.5';
                
                // {% trans "Add" %} spinner
                const loadingDiv = document.createElement('div');
                loadingDiv.className = 'position-absolute top-50 start-50 translate-middle';
                loadingDiv.innerHTML = `
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">{% trans "Loading..." %}</span>
                    </div>
                `;
                mainContent.style.position = 'relative';
                mainContent.appendChild(loadingDiv);
                
                // Send AJAX request
                fetch(url, {
                    method: 'GET',
                    headers: {
                        'X-Requested-With': 'XMLHttpRequest',
                        'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'
                    }
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.text();
                })
                .then(html => {
                    // Extract content from loaded page
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const newContent = doc.querySelector('.main-content, #main-content');
                    
                    if (newContent) {
                        // Remove loading state
                        this.classList.remove('loading');
                        loadingDiv.remove();
                        
                        // Update content
                        mainContent.innerHTML = newContent.innerHTML;
                        mainContent.style.opacity = '1';
                        
                        // Update URL in address bar
                        history.pushState({url: url}, '', url);
                        
                        // Execute any new scripts in content
                        const scripts = mainContent.querySelectorAll('script');
                        scripts.forEach(script => {
                            if (script.src) {
                                // For external scripts
                                const newScript = document.createElement('script');
                                newScript.src = script.src;
                                document.head.appendChild(newScript);
                            } else {
                                // For inline scripts
                                const newScript = document.createElement('script');
                                newScript.textContent = script.textContent;
                                document.body.appendChild(newScript);
                            }
                        });
                        
                        // Update page title
                        const newTitle = doc.querySelector('title');
                        if (newTitle) {
                            document.title = newTitle.textContent;
                        }
                        
                        // Reinitialize Bootstrap components if needed
                        if (typeof bootstrap !== 'undefined') {
                            // Reinitialize tooltips and popovers
                            const tooltipTriggerList = [].slice.call(mainContent.querySelectorAll('[data-bs-toggle="tooltip"]'));
                            tooltipTriggerList.map(function (tooltipTriggerEl) {
                                return new bootstrap.Tooltip(tooltipTriggerEl);
                            });
                        }
                    } else {
                        throw new Error('Content not found in response');
                    }
                })
                .catch(error => {
                    console.error('Error loading page:', error);
                    // On error, remove loading and navigate normally
                    this.classList.remove('loading');
                    if (loadingDiv.parentNode) {
                        loadingDiv.remove();
                    }
                    mainContent.style.opacity = '1';
                    
                    // Normal redirect as fallback
                    window.location.href = url;
                });
                
                // Update active link using enhanced function
                setActiveSidebarItem();
            });
        });
        
        // Handle browser buttons (Back/Forward)
        window.addEventListener('popstate', function(e) {
            if (e.state && e.state.url) {
                // Load saved page from history
                const url = e.state.url;
                const mainContent = document.getElementById('main-content');
                
                fetch(url, {
                    method: 'GET',
                    headers: {
                        'X-Requested-With': 'XMLHttpRequest'
                    }
                })
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const newContent = doc.querySelector('.main-content, #main-content');
                    
                    if (newContent) {
                        mainContent.innerHTML = newContent.innerHTML;
                        
                        // Update title
                        const newTitle = doc.querySelector('title');
                        if (newTitle) {
                            document.title = newTitle.textContent;
                        }
                        
                        // Update active link in sidebar
                        setActiveSidebarItem();
                    }
                })
                .catch(() => {
                    window.location.reload();
                });
            } else {
                // If no saved state exists, reload page
                window.location.reload();
            }
        });
        
        // Handle dropdown menu open/close (close others when opening new one)
        const collapseToggleLinks = document.querySelectorAll('.sidebar a[data-bs-toggle="collapse"]');
        collapseToggleLinks.forEach(link => {
            link.addEventListener('click', function() {
                const targetCollapse = document.querySelector(this.getAttribute('href'));
                const isCurrentlyCollapsed = !targetCollapse.classList.contains('show');
                
                if (isCurrentlyCollapsed) {
                    // If current menu is closed and will be opened, close all other menus
                    const allCollapses = document.querySelectorAll('.sidebar .collapse.show');
                    allCollapses.forEach(collapse => {
                        if (collapse !== targetCollapse) {
                            const bsCollapse = bootstrap.Collapse.getInstance(collapse);
                            if (bsCollapse) {
                                bsCollapse.hide();
                            } else {
                                const newBsCollapse = new bootstrap.Collapse(collapse, {show: false});
                                newBsCollapse.hide();
                            }
                        }
                    });
                }
            });
        });
        
        // Save dropdown menu states
        const collapseElements = document.querySelectorAll('.sidebar .collapse');
        collapseElements.forEach(collapse => {
            collapse.addEventListener('shown.bs.collapse', function() {
                localStorage.setItem('sidebar_' + this.id, 'open');
            });
            
            collapse.addEventListener('hidden.bs.collapse', function() {
                localStorage.setItem('sidebar_' + this.id, 'closed');
            });
            
            // Restore menu states on page load
            const savedState = localStorage.getItem('sidebar_' + collapse.id);
            if (savedState === 'open') {
                const bsCollapse = new bootstrap.Collapse(collapse, {show: true});
            }
        });
    });
    
    // Enhanced print function
    function printPage() {
        // Add print header
        addPrintHeader();
        
        // Optimize tables for printing
        optimizeTablesForPrint();
        
        // Print
        window.print();
        
        // Remove print header after printing
        setTimeout(() => {
            removePrintHeader();
            restoreTablesAfterPrint();
        }, 1000);
    }
    
    function addPrintHeader() {
        // Check for existing print header
        const existingHeader = document.querySelector('.print-header-added');
        if (existingHeader) {
            existingHeader.remove();
        }
        
        // Create print header
        const printHeader = document.createElement('div');
        printHeader.className = 'print-header-added';
        printHeader.style.display = 'none';
        
        const currentDate = new Date();
        const dateStr = currentDate.toLocaleDateString('ar-SA', {
            year: 'numeric',
            month: 'long',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
        });
        
        const pageTitle = document.querySelector('h1, h2, h3, h4, .card-title, .page-title')?.textContent?.trim() || 'Report';
        
        printHeader.innerHTML = `
            <div class="print-company-info">
                Finspilot - Integrated Accounting System
            </div>
            <div class="print-header">
                ${pageTitle}
            </div>
            <div class="print-date">
                Print Date: ${dateStr}
            </div>
            <style>
                @media print {
                    .print-header-added {
                        display: block !important;
                    }
                }
            </style>
        `;
        
        // Insert header at beginning of main content
        const mainContent = document.querySelector('.main-content, #main-content, .card-body, .container-fluid');
        if (mainContent) {
            mainContent.insertBefore(printHeader, mainContent.firstChild);
        }
    }
    
    function removePrintHeader() {
        const printHeader = document.querySelector('.print-header-added');
        if (printHeader) {
            printHeader.remove();
        }
    }
    
    function optimizeTablesForPrint() {
        const tables = document.querySelectorAll('.table');
        tables.forEach(table => {
            // Save original view
            table.setAttribute('data-original-width', table.style.width);
            
            // Add CSS classes for printing
            table.classList.add('print-optimized');
            
            // Optimize column display
            const headers = table.querySelectorAll('thead th');
            const rows = table.querySelectorAll('tbody tr');
            
            // Hide action columns
            headers.forEach((header, index) => {
                const headerText = header.textContent.toLowerCase();
                if (headerText.includes('actions') || headerText.includes('operations') || 
                    headerText.includes('control') || headerText.includes('procedures') ||
                    header.querySelector('.btn, button, a[href]')) {
                    header.style.display = 'none';
                    
                    // {% trans "Hide" %} Ø§Ù„Ø®{% trans "No" %}ÙŠØ§ Ø§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø© ÙÙŠ ÙƒÙ„ ØµÙ
                    rows.forEach(row => {
                        const cell = row.children[index];
                        if (cell) {
                            cell.style.display = 'none';
                        }
                    });
                }
            });
            
            // {% trans "Add" %} ÙØ¦Ø§Øª CSS Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª {% trans "Number" %}ÙŠØ©
            rows.forEach(row => {
                Array.from(row.children).forEach(cell => {
                    const text = cell.textContent.trim();
                    
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª {% trans "Number" %}ÙŠØ©
                    if (/^\d+([.,]\d+)*\s*(Ø±ÙŠØ§Ù„|Ø±\.Ø³|SAR|$)?$/.test(text)) {
                        cell.classList.add('numeric-data');
                    }
                    
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®
                    if (/\d{4}-\d{2}-\d{2}|\d{2}\/\d{2}\/\d{4}/.test(text)) {
                        cell.classList.add('date-column');
                    }
                    
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠØ©
                    if (/^[A-Z]{2,}-\d+$/.test(text)) {
                        cell.classList.add('id-column');
                    }
                });
            });
        });
    }
    
    function restoreTablesAfterPrint() {
        const tables = document.querySelectorAll('.table.print-optimized');
        tables.forEach(table => {
            table.classList.remove('print-optimized');
            
            // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„{% trans "View" %} Ø§Ù„Ø£ØµÙ„ÙŠ
            const originalWidth = table.getAttribute('data-original-width');
            if (originalWidth) {
                table.style.width = originalWidth;
                table.removeAttribute('data-original-width');
            }
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© Ø§Ù„{% trans "Hidden" %}Ø©
            const hiddenElements = table.querySelectorAll('[style*="display: none"]');
            hiddenElements.forEach(element => {
                element.style.display = '';
            });
        });
    }
    
    // {% trans "Add" %} Ù…Ø¹Ø§Ù„Ø¬ Ù„Ù„{% trans "Print" %} Ø¨Ø§Ù„ÙƒÙŠØ¨ÙˆØ±Ø¯ (Ctrl+P)
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'p') {
            e.preventDefault();
            printPage();
        }
    });
    </script>
    
    <!-- Session Management JavaScript -->
    {% if user.is_authenticated %}
    {% load static %}
    <script src="{% static 'core/js/session-manager.js' %}"></script>
    {% endif %}
    
    <!-- Auto Translation JavaScript -->
    <script>
    {% if LANGUAGE_CODE == 'en' %}
    // Auto Translation for English - Extended Dictionary
    const TRANSLATIONS = {
        // Main Navigation
        'Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…': 'Dashboard',
        //'Dashboard': 'Dashboard',
        '{% trans "Dashboard" %}': 'Home',
        
        // Statistics
        'Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª': 'Sales Statistics',
        'Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª': 'Purchase Statistics',
        'Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†': 'Inventory Statistics',
        'Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¹Ø§Ù…Ø©': 'General Statistics',
        
        // Time periods
        'Ø§Ù„ÙŠÙˆÙ…': 'Today',
        'Ù‡Ø°Ø§ Ø§Ù„Ø´Ù‡Ø±': 'This Month',
        'Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ': 'Last Month',
        'Ù‡Ø°Ø§ Ø§Ù„Ø±Ø¨Ø¹': 'This Quarter',
        'Ù†ØµÙ Ø§Ù„Ø³Ù†Ø©': 'Half Year',
        'Ø§Ù„Ø³Ù†Ø©': 'Year',
        'Ù‡Ø°Ù‡ Ø§Ù„Ø³Ù†Ø©': 'This Year',
        'Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù…Ø§Ø¶ÙŠØ©': 'Last Year',
        'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹': 'Week',
        'Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹': 'This Week',
        'Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù…Ø§Ø¶ÙŠ': 'Last Week',
        
        // Documents
        'ÙØ§ØªÙˆØ±Ø©': 'Invoice',
        'ÙÙˆØ§ØªÙŠØ±': 'Invoices',
        'ÙƒØ´Ù Ù…Ø´ØªØ±ÙŠØ§Øª': 'Purchase Statement',
        'ÙƒØ´Ù Ù…Ø±Ø¯ÙˆØ¯Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª': 'Purchase Returns Statement',
        'ÙƒØ´Ù Ù…Ø¨ÙŠØ¹Ø§Øª': 'Sales Statement',
        'ÙƒØ´Ù Ù…Ø±Ø¯ÙˆØ¯Ø§Øª Ù…Ø¨ÙŠØ¹Ø§Øª': 'Sales Returns Statement',
        'Ø³Ù†Ø¯': 'Voucher',
        'Ø³Ù†Ø¯Ø§Øª': 'Vouchers',
        'Ø¥ÙŠØµØ§Ù„': 'Receipt',
        'Ø¥ÙŠØµØ§Ù„Ø§Øª': 'Receipts',
        'Ù…Ø³ØªÙ†Ø¯': 'Document',
        'Ù…Ø³ØªÙ†Ø¯Ø§Øª': 'Documents',
        
        // Actions - Extended
        'Ø¥Ø¶Ø§ÙØ©': 'Add',
        'Ø¥Ù†Ø´Ø§Ø¡': 'Create',
        'Ø¬Ø¯ÙŠØ¯': 'New',
        'ØªØ­Ø±ÙŠØ±': 'Edit',
        'ØªØ­Ø±ÙŠØ±': 'Edit',
        'Ø­Ø°Ù': 'Delete',
        'Ø¥Ø²Ø§Ù„Ø©': 'Remove',
        'Ù…Ø³Ø­': 'Delete',
        'Ø¹Ø±Ø¶': 'View',
        'Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„': 'View Details',
        'Ø§Ù„ØªÙØ§ØµÙŠÙ„': 'Details',
        'Ø­ÙØ¸': 'Save',
        'Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª': 'Save Changes',
        'Ø¥Ù„ØºØ§Ø¡': 'Cancel',
        'Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø£Ù…Ø±': 'Cancel',
        'Ø¨Ø­Ø«': 'Search',
        'Ø¨Ø­Ø«': 'Search',
        'Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù…': 'Advanced Search',
        'ØªØµÙÙŠØ©': 'Filter',
        'Ø§Ù„ØªØµÙÙŠØ©': 'Filter',
        'ØªØµØ¯ÙŠØ±': 'Export',
        'Ø§Ù„ØªØµØ¯ÙŠØ±': 'Export',
        'Ø·Ø¨Ø§Ø¹Ø©': 'Print',
        'Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©': 'Print',
        'ØªØ­Ø¯ÙŠØ«': 'Update',
        'Ø§Ù„ØªØ­Ø¯ÙŠØ«': 'Update',
        'ØªØ£ÙƒÙŠØ¯': 'Confirm',
        'Ø§Ù„ØªØ£ÙƒÙŠØ¯': 'Confirm',
        'Ø±Ø¬ÙˆØ¹': 'Back',
        'Ø§Ù„Ø¹ÙˆØ¯Ø©': 'Back',
        'Ø§Ù„ØªØ§Ù„ÙŠ': 'Next',
        'Ø§Ù„Ø³Ø§Ø¨Ù‚': 'Previous',
        'Ø¥Ø±Ø³Ø§Ù„': 'Submit',
        'ØªØ·Ø¨ÙŠÙ‚': 'Apply',
        'Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†': 'Reset',
        'Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„': 'Clear Fields',
        'ØªØ­Ù…ÙŠÙ„': 'Download',
        'Ø±ÙØ¹': 'Upload',
        'Ø§Ø³ØªÙŠØ±Ø§Ø¯': 'Import',
        
        // Status
        'Status': 'Status',
        'Ø§Ù„Ø­Ø§Ù„Ø§Øª': 'Statuses',
        'Ù†Ø´Ø·': 'Active',
        'ØºÙŠØ± Ù†Ø´Ø·': 'Inactive',
        'Ù…Ø¤ÙƒØ¯': 'Confirmed',
        'ØºÙŠØ± Ù…Ø¤ÙƒØ¯': 'Unconfirmed',
        'Ù…Ø¹Ù„Ù‚': 'Pending',
        'Ù…Ù„ØºÙ‰': 'Cancelled',
        'Ù…ÙƒØªÙ…Ù„': 'Completed',
        'ØºÙŠØ± Ù…ÙƒØªÙ…Ù„': 'Incomplete',
        'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©': 'Processing',
        'Ù…Ø¯ÙÙˆØ¹': 'Paid',
        'ØºÙŠØ± Ù…Ø¯ÙÙˆØ¹': 'Unpaid',
        'Ø¬Ø²Ø¦ÙŠØ§Ù‹': 'Partial',
        'Ù…Ø±ÙÙˆØ¶': 'Rejected',
        'Ù…ÙˆØ§ÙÙ‚ Ø¹Ù„ÙŠÙ‡': 'Approved',
        'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©': 'Under Review',
        
        // Common Fields
        'Ø§Ø³Ù…': 'Name',
        'Ø§Ù„Ø£Ø³Ù…Ø§Ø¡': 'Names',
        'Ø§Ø³Ù… ÙƒØ§Ù…Ù„': 'Full Name',
        'ÙˆØµÙ': 'Description',
        'Ø§Ù„ØªÙØ§ØµÙŠÙ„': 'Details',
        'Notes': 'Notes',
        'Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª': 'Comments',
        'Ø¹Ù†ÙˆØ§Ù†': 'Address',
        'Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†': 'Addresses',
        'Ù‡Ø§ØªÙ': 'Phone',
        'Ø§Ù„Ø¬ÙˆØ§Ù„': 'Mobile',
        'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ': 'Email',
        'Ù…ÙˆÙ‚Ø¹ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ': 'Website',
        'Ø±Ù‚Ù…': 'Number',
        'Ø§Ù„Ø£Ø±Ù‚Ø§Ù…': 'Numbers',
        'ÙƒÙˆØ¯': 'Code',
        'Ø§Ù„Ø£ÙƒÙˆØ§Ø¯': 'Codes',
        'Ø±Ù‚Ù… Ù…Ø±Ø¬Ø¹ÙŠ': 'Reference Number',
        'Ø±Ù‚Ù… Ø§Ù„Ù…Ø±Ø¬Ø¹': 'Reference No',
        'ØªØ§Ø±ÙŠØ®': 'Date',
        'Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®': 'Dates',
        'Creation Date': 'Creation Date',
        'ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ­Ø¯ÙŠØ«': 'Update Date',
        'ÙˆÙ‚Øª': 'Time',
        'Ø§Ù„Ø£ÙˆÙ‚Ø§Øª': 'Times',
        'Ø§Ù„Ù…Ø¯Ø©': 'Duration',
        
        // Financial Terms
        'Ù…Ø¨Ù„Øº': 'Amount',
        'Ø§Ù„Ù…Ø¨Ø§Ù„Øº': 'Amounts',
        'Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹': 'Total',
        'Ù…Ø¬Ù…ÙˆØ¹': 'Sum',
        'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ±Ø¹ÙŠ': 'Subtotal',
        'ÙƒÙ…ÙŠØ©': 'Quantity',
        'Ø§Ù„ÙƒÙ…ÙŠØ§Øª': 'Quantities',
        'Ø³Ø¹Ø±': 'Price',
        'Ø§Ù„Ø£Ø³Ø¹Ø§Ø±': 'Prices',
        'Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©': 'Unit Price',
        'Ø³Ø¹Ø± Ø¥Ø¬Ù…Ø§Ù„ÙŠ': 'Total Price',
        'Ø§Ù„Ø®ØµÙ…': 'Discount',
        'Ø§Ù„Ø®ØµÙˆÙ…Ø§Øª': 'Discounts',
        'Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…': 'Discount Rate',
        'Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©': 'Tax',
        'Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨': 'Taxes',
        'Ù†Ø³Ø¨Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©': 'Tax Rate',
        'Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©': 'VAT',
        'Ø§Ù„Ù…Ø¯ÙŠÙ†': 'Debit',
        'Ø§Ù„Ø¯Ø§Ø¦Ù†': 'Credit',
        'Ø§Ù„Ø±ØµÙŠØ¯': 'Balance',
        'Ø§Ù„Ø£Ø±ØµØ¯Ø©': 'Balances',
        'Ø§Ù„Ù…Ø¯ÙÙˆØ¹': 'Paid',
        'Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ': 'Remaining',
        'Ø§Ù„Ù…Ø³ØªØ­Ù‚': 'Due',
        'Currency': 'Currency',
        'Currencies': 'Currencies',
        
        // Data Table Terms
        'Ø§Ù„Ù†ØªØ§Ø¦Ø¬': 'Results',
        'Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'Data',
        'Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©': 'List',
        'Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…': 'Lists',
        'Ø§Ù„{% trans "Table" %}': 'Table',
        'Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„': 'Tables',
        'Ø§Ù„ØµÙØ­Ø©': 'Page',
        'Ø§Ù„ØµÙØ­Ø§Øª': 'Pages',
        'Ø¹Ù†ØµØ±': 'Item',
        'Ø¹Ù†Ø§ØµØ±': 'Items',
        'Ø³Ø¬Ù„': 'Record',
        'Ø³Ø¬Ù„Ø§Øª': 'Records',
        'Ø§Ù„ØµÙ': 'Row',
        'Ø§Ù„ØµÙÙˆÙ': 'Rows',
        'Ø§Ù„Ø¹Ù…ÙˆØ¯': 'Column',
        'Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©': 'Columns',
        'Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª': 'Actions',
        'Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª': 'Options',
        'Settings': 'Settings',
        'Ø§Ù„ØªÙƒÙˆÙŠÙ†': 'Configuration',
        
        // Messages
        'ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­': 'Saved Successfully',
        'ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø¨Ù†Ø¬Ø§Ø­': 'Updated Successfully',
        'ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­': 'Deleted Successfully',
        'ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ù†Ø¬Ø§Ø­': 'Created Successfully',
        'ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­': 'Operation Completed Successfully',
        'Ø­Ø¯Ø« Ø®Ø·Ø£': 'An Error Occurred',
        'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'Data Error',
        'Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…': 'System Error',
        'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬': 'No Results Found',
        'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª': 'No Data Available',
        'Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙØ§Ø±ØºØ©': 'No Data',
        'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù': 'Confirm Delete',
        'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ': 'Are you sure you want to delete?',
        'Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡': 'This action cannot be undone',
        'ØªØ­Ø°ÙŠØ±': 'Warning',
        'ØªÙ†Ø¨ÙŠÙ‡': 'Alert',
        'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª': 'Information',
        'Ù†Ø¬Ø­': 'Success',
        'ÙØ´Ù„': 'Failed',
        'Ù…Ø·Ù„ÙˆØ¨': 'Required',
        'Ø¥Ø¬Ø¨Ø§Ø±ÙŠ': 'Required',
        'Ø§Ø®ØªÙŠØ§Ø±ÙŠ': 'Optional',
        'ÙŠØ¬Ø¨ Ù…Ù„Ø¡ Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„': 'This field is required',
        'ØµÙŠØºØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø©': 'Invalid format',
        
        // Business Terms
        'Ø´Ø±ÙƒØ©': 'Company',
        'Ø§Ù„Ø´Ø±ÙƒØ©': 'Company',
        'Ø§Ù„Ø´Ø±ÙƒØ§Øª': 'Companies',
        'Ø¹Ù…ÙŠÙ„': 'Customer',
        'Ø§Ù„Ø¹Ù…ÙŠÙ„': 'Customer',
        'Ø¹Ù…Ù„Ø§Ø¡': 'Customers',
        'Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡': 'Customers',
        'Ù…ÙˆØ±Ø¯': 'Supplier',
        'Ø§Ù„Ù…ÙˆØ±Ø¯': 'Supplier',
        'Ù…ÙˆØ±Ø¯ÙˆÙ†': 'Suppliers',
        'Ø§Ù„Ù…ÙˆØ±Ø¯ÙˆÙ†': 'Suppliers',
        'Ù…Ù†ØªØ¬': 'Product',
        'Ø§Ù„Ù…Ù†ØªØ¬': 'Product',
        'Ù…Ù†ØªØ¬Ø§Øª': 'Products',
        'Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª': 'Products',
        'Ø®Ø¯Ù…Ø©': 'Service',
        'Ø§Ù„Ø®Ø¯Ù…Ø©': 'Service',
        'Ø®Ø¯Ù…Ø§Øª': 'Services',
        'Ø§Ù„Ø®Ø¯Ù…Ø§Øª': 'Services',
        'Ù…Ø´Ø±ÙˆØ¹': 'Project',
        'Ø§Ù„Ù…Ø´Ø±ÙˆØ¹': 'Project',
        'Ù…Ø´Ø§Ø±ÙŠØ¹': 'Projects',
        'Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹': 'Projects',
        
        // User Interface
        'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„': 'Login',
        'Logout': 'Logout',
        '{% trans "Exit" %}': 'Logout',
        'ØªØ³Ø¬ÙŠÙ„': 'Register',
        'User': 'User',
        'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†': 'Users',
        'Password': 'Password',
        'ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±': 'Password',
        'Username': 'Username',
        'Ø§Ù„Ø¨Ø±ÙˆÙØ§ÙŠÙ„': 'Profile',
        '{% trans "Profile" %}': 'Profile',
        'Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª': 'Permissions',
        'Ø§Ù„Ø£Ø¯ÙˆØ§Ø±': 'Roles',
        'Ù…Ø¬Ù…ÙˆØ¹Ø©': 'Group',
        'Ù…Ø¬Ù…ÙˆØ¹Ø§Øª': 'Groups',
        
        // Common Words
        'Ù…Ù†': 'From',
        'Ø¥Ù„Ù‰': 'To',
        'ÙÙŠ': 'In',
        'Ø¹Ù„Ù‰': 'On',
        'Ø¹Ù†Ø¯': 'At',
        'Ù…Ø¹': 'With',
        'Ø¨Ø¯ÙˆÙ†': 'Without',
        'ÙƒÙ„': 'All',
        'Ø¬Ù…ÙŠØ¹': 'All',
        'Ø¨Ø¹Ø¶': 'Some',
        'Ø£Ø®Ø±Ù‰': 'Other',
        'Ø¢Ø®Ø±': 'Last',
        'Ø£ÙˆÙ„': 'First',
        'Ø«Ø§Ù†ÙŠ': 'Second',
        'Ø«Ø§Ù„Ø«': 'Third',
        'Ù†Ø¹Ù…': 'Yes',
        'Ù„Ø§': 'No',
        'Ù…ÙˆØ§ÙÙ‚': 'OK',
        'ØªÙ…': 'Done',
        'Ø§Ù†ØªÙ‡Ù‰': 'Finished',
        'Ø¬Ø§Ù‡Ø²': 'Ready',
        'Ù…ØªØ§Ø­': 'Available',
        'ØºÙŠØ± Ù…ØªØ§Ø­': 'Unavailable',
        'Ù…ÙØªÙˆØ­': 'Open',
        'Ù…ØºÙ„Ù‚': 'Closed',
        'Ø¹Ø§Ù…': 'General',
        'Ø®Ø§Øµ': 'Private',
        'Ø¹Ù…ÙˆÙ…ÙŠ': 'Public',
        'Ø¯Ø§Ø®Ù„ÙŠ': 'Internal',
        'Ø®Ø§Ø±Ø¬ÙŠ': 'External',
        
        // Additional Business Terms
        'ÙØ±Ø¹': 'Branch',
        'Ø§Ù„ÙØ±Ø¹': 'Branch',
        'ÙØ±ÙˆØ¹': 'Branches',
        'Ø§Ù„ÙØ±ÙˆØ¹': 'Branches',
        'Ù‚Ø³Ù…': 'Department',
        'Ø§Ù„Ù‚Ø³Ù…': 'Department',
        'Ø£Ù‚Ø³Ø§Ù…': 'Departments',
        'Ø§Ù„Ø£Ù‚Ø³Ø§Ù…': 'Departments',
        'ÙˆØ­Ø¯Ø©': 'Unit',
        'Ø§Ù„ÙˆØ­Ø¯Ø©': 'Unit',
        'ÙˆØ­Ø¯Ø§Øª': 'Units',
        'Ø§Ù„ÙˆØ­Ø¯Ø§Øª': 'Units',
        'Ù…Ø®Ø²Ù†': 'Warehouse',
        'Ø§Ù„Ù…Ø®Ø²Ù†': 'Warehouse',
        'Ù…Ø®Ø§Ø²Ù†': 'Warehouses',
        'Ø§Ù„Ù…Ø®Ø§Ø²Ù†': 'Warehouses',
        'Ù…Ø³ØªÙˆØ¯Ø¹': 'Warehouse',
        'Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹': 'Warehouse',
        'Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª': 'Warehouses',
        'Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª': 'Warehouses',
        
        // Form Elements
        'Ø§Ø®ØªØ±': 'Choose',
        'Ø§Ø®ØªÙŠØ§Ø±': 'Select',
        'Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©': 'Select from List',
        'Ø­Ø¯Ø¯': 'Select',
        'Ø§Ø®ØªÙŠØ§Ø±': 'Select',
        'Ø§Ø®ØªØ± ØªØ§Ø±ÙŠØ®': 'Choose Date',
        'Ø£Ø¯Ø®Ù„': 'Enter',
        'Ø¥Ø¯Ø®Ø§Ù„': 'Enter',
        'Ø§ÙƒØªØ¨': 'Type',
        'ÙƒØªØ§Ø¨Ø©': 'Type',
        'Ø§Ø±ÙØ¹ Ù…Ù„Ù': 'Upload File',
        'Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª': 'Upload Files',
        'ØªØ­Ù…ÙŠÙ„': 'Download',
        'ØªÙ†Ø²ÙŠÙ„': 'Download',
        'Ø§Ø³ØªØ¹Ø±Ø§Ø¶': 'Browse',
        'ØªØµÙØ­': 'Browse',
        
        // Reports and Analytics
        'ØªÙ‚Ø±ÙŠØ±': 'Report',
        'Ø§Ù„ØªÙ‚Ø±ÙŠØ±': 'Report',
        'ØªÙ‚Ø§Ø±ÙŠØ±': 'Reports',
        'Reports': 'Reports',
        'Ø¥Ø­ØµØ§Ø¦ÙŠØ©': 'Statistic',
        'Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ©': 'Statistic',
        'Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª': 'Statistics',
        'Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª': 'Statistics',
        'ØªØ­Ù„ÙŠÙ„': 'Analysis',
        'Ø§Ù„ØªØ­Ù„ÙŠÙ„': 'Analysis',
        'ØªØ­Ù„ÙŠÙ„Ø§Øª': 'Analytics',
        'Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª': 'Analytics',
        'Ù…Ø®Ø·Ø·': 'Chart',
        'Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ': 'Chart',
        'Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ©': 'Charts',
        'Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©': 'Charts',
        'Ø¬Ø¯ÙˆÙ„': 'Table',
        'Ø§Ù„Ø¬Ø¯ÙˆÙ„': 'Table',
        'Ø¬Ø¯Ø§ÙˆÙ„': 'Tables',
        'Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„': 'Tables',
        
        // Time-related Terms
        'ØµØ¨Ø§Ø­Ø§Ù‹': 'AM',
        'Ù…Ø³Ø§Ø¡Ù‹': 'PM',
        'ÙŠÙˆÙ…ÙŠØ§Ù‹': 'Daily',
        'Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹': 'Weekly',
        'Ø´Ù‡Ø±ÙŠØ§Ù‹': 'Monthly',
        'Ø³Ù†ÙˆÙŠØ§Ù‹': 'Annually',
        'ÙÙˆØ±Ø§Ù‹': 'Immediately',
        'Ù„Ø§Ø­Ù‚Ø§Ù‹': 'Later',
        'Ù‚Ø±ÙŠØ¨Ø§Ù‹': 'Soon',
        'Ø¨Ø¹Ø¯ Ù‚Ù„ÙŠÙ„': 'Shortly',
        'Ø§Ù„Ø¢Ù†': 'Now',
        'Ø­Ø§Ù„ÙŠØ§Ù‹': 'Currently',
        'Ù…Ø¤Ù‚ØªØ§Ù‹': 'Temporarily',
        'Ø¯Ø§Ø¦Ù…Ø§Ù‹': 'Always',
        'Ø£Ø¨Ø¯Ø§Ù‹': 'Never',
        'Ø£Ø­ÙŠØ§Ù†Ø§Ù‹': 'Sometimes',
        
        // Additional Interface Terms
        'Ù‚Ø§Ø¦Ù…Ø©': 'Menu',
        'Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©': 'Menu',
        'Ù‚ÙˆØ§Ø¦Ù…': 'Menus',
        'Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…': 'Menus',
        'Ø´Ø±ÙŠØ·': 'Bar',
        'Ø§Ù„Ø´Ø±ÙŠØ·': 'Bar',
        'Ø£Ø´Ø±Ø·Ø©': 'Bars',
        'Ø§Ù„Ø£Ø´Ø±Ø·Ø©': 'Bars',
        'Ø²Ø±': 'Button',
        'Ø§Ù„Ø²Ø±': 'Button',
        'Ø£Ø²Ø±Ø§Ø±': 'Buttons',
        'Ø§Ù„Ø£Ø²Ø±Ø§Ø±': 'Buttons',
        'Ø±Ø§Ø¨Ø·': 'Link',
        'Ø§Ù„Ø±Ø§Ø¨Ø·': 'Link',
        'Ø±ÙˆØ§Ø¨Ø·': 'Links',
        'Ø§Ù„Ø±ÙˆØ§Ø¨Ø·': 'Links',
        'ØµÙˆØ±Ø©': 'Image',
        'Ø§Ù„ØµÙˆØ±Ø©': 'Image',
        'ØµÙˆØ±': 'Images',
        'Ø§Ù„ØµÙˆØ±': 'Images',
        'Ù…Ù„Ù': 'File',
        'Ø§Ù„Ù…Ù„Ù': 'File',
        'Ù…Ù„ÙØ§Øª': 'Files',
        'Ø§Ù„Ù…Ù„ÙØ§Øª': 'Files',
        'Ù…Ø¬Ù„Ø¯': 'Folder',
        'Ø§Ù„Ù…Ø¬Ù„Ø¯': 'Folder',
        'Ù…Ø¬Ù„Ø¯Ø§Øª': 'Folders',
        'Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª': 'Folders',
        
        // Additional Status Terms
        'Ø¬Ø¯ÙŠØ¯': 'New',
        'Ø§Ù„Ø¬Ø¯ÙŠØ¯': 'New',
        'Ù‚Ø¯ÙŠÙ…': 'Old',
        'Ø§Ù„Ù‚Ø¯ÙŠÙ…': 'Old',
        'Ù…Ø­Ø¯Ø«': 'Updated',
        'Ø§Ù„Ù…Ø­Ø¯Ø«': 'Updated',
        'Ù…Ø­Ø°ÙˆÙ': 'Deleted',
        'Ø§Ù„Ù…Ø­Ø°ÙˆÙ': 'Deleted',
        'Ù…Ø¶Ø§Ù': 'Added',
        'Ø§Ù„Ù…Ø¶Ø§Ù': 'Added',
        'Ù…Ø¹Ø¯Ù„': 'Modified',
        'Ø§Ù„Ù…Ø¹Ø¯Ù„': 'Modified',
        'Ù…ÙƒØ±Ø±': 'Duplicate',
        'Ø§Ù„Ù…ÙƒØ±Ø±': 'Duplicate',
        'ÙØ±ÙŠØ¯': 'Unique',
        'Ø§Ù„ÙØ±ÙŠØ¯': 'Unique',
        'ØµØ­ÙŠØ­': 'Valid',
        'Ø§Ù„ØµØ­ÙŠØ­': 'Valid',
        'Ø®Ø§Ø·Ø¦': 'Invalid',
        'Ø§Ù„Ø®Ø§Ø·Ø¦': 'Invalid',
        
        // Accounting Specific Terms
        'Ø­Ø³Ø§Ø¨': 'Account',
        'Ø§Ù„Ø­Ø³Ø§Ø¨': 'Account',
        'Ø­Ø³Ø§Ø¨Ø§Øª': 'Accounts',
        'Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª': 'Accounts',
        'Ù‚ÙŠØ¯': 'Entry',
        'Ø§Ù„Ù‚ÙŠØ¯': 'Entry',
        'Ù‚ÙŠÙˆØ¯': 'Entries',
        'Ø§Ù„Ù‚ÙŠÙˆØ¯': 'Entries',
        'ÙŠÙˆÙ…ÙŠØ©': 'Journal',
        'ÙŠÙˆÙ…ÙŠØ©': 'Journal',
        'Ø¯ÙØªØ±': 'Book',
        'Ø§Ù„Ø¯ÙØªØ±': 'Book',
        'Ø¯ÙØ§ØªØ±': 'Books',
        'Ø§Ù„Ø¯ÙØ§ØªØ±': 'Books',
        'Ø³Ø¬Ù„': 'Record',
        'Ø§Ù„Ø³Ø¬Ù„': 'Record',
        'Ø³Ø¬{% trans "No" %}Øª': 'Records',
        'Ø§Ù„Ø³Ø¬Ù„Ø§Øª': 'Records',
        'Ù…ÙŠØ²Ø§Ù†ÙŠØ©': 'Budget',
        'Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©': 'Budget',
        'Ù…ÙŠØ²Ø§Ù†ÙŠØ§Øª': 'Budgets',
        'Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ§Øª': 'Budgets',
        'ÙƒØ´Ù': 'Statement',
        'Ø§Ù„ÙƒØ´Ù': 'Statement',
        'ÙƒØ´ÙˆÙ': 'Statements',
        'Ø§Ù„ÙƒØ´ÙˆÙ': 'Statements',
        
        // More Common Arabic Words
        'Ù…Ø¨ÙŠØ¹Ø§Øª': 'Sales',
        'Sales': 'Sales',
        'Ù…Ø´ØªØ±ÙŠØ§Øª': 'Purchases', 
        'Purchases': 'Purchases',
        'Ù…Ø®Ø²ÙˆÙ†': 'Inventory',
        'Ø§Ù„Ù…Ø®Ø²ÙˆÙ†': 'Inventory',
        'Ø¥ÙŠØ±Ø§Ø¯Ø§Øª': 'Revenues',
        'Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª': 'Revenues',
        'Ù…ØµØ±ÙˆÙØ§Øª': 'Expenses',
        'Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª': 'Expenses',
        'Ø£ØµÙˆÙ„': 'Assets',
        'Ø§Ù„Ø£ØµÙˆÙ„': 'Assets',
        'Ø®ØµÙˆÙ…': 'Liabilities',
        'Ø§Ù„Ø®ØµÙˆÙ…': 'Liabilities',
        'Global Search': 'Global Search',
        'Bank Accounts': 'Bank Accounts',
        'Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚': 'Cashboxes',
        'Payment Receipts': 'Payment Receipts',
        'Ø³Ù†Ø¯Ø§Øª Ø§Ù„Ø¯ÙØ¹': 'Payment Vouchers',
        'Categories & Products': 'Categories & Products',
        'Customers & Suppliers': 'Customers & Suppliers',
        'Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ©': 'Journal Entries',
        'Assets & Liabilities': 'Assets & Liabilities',
        'Revenues & Expenses': 'Revenues & Expenses',
        'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø³ÙˆØ¨Ø± Ø£Ø¯Ù…ÙŠÙ†': 'Superadmin Management',
        'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…': 'System Management',
        'Ù…ØªÙ‚Ø¯Ù…': 'Advanced',
        'Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø§Øª ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª': 'Groups & Permissions',
        'Ø³Ø¬Ù„ Ø§Ù„Ø£Ù†Ø´Ø·Ø©': 'Activity Log',
        'Ø¥Ø¯Ø§Ø±Ø© Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª': 'Document Numbers Management',
        'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…': 'System Settings',
        'Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª': 'Settings',
        'Settings': 'Settings',
        'Logout': 'Logout',
        '{% trans "Exit" %}': 'Logout',
        'Dashboard': 'Dashboard',
        '{% trans "Dashboard" %}': 'Home',
        'Arabic': 'Arabic',
        'English': 'English',
        'Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ©': 'Choose Language',
        'Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª': 'Notifications',
        'Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ': 'Profile',
        'Ø§Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†': 'User Management',
        'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†': 'Users',
        'Ø§Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù…': 'Add User',
        'ØªØ­Ø±ÙŠØ± Ù…Ø³ØªØ®Ø¯Ù…': 'Edit User',
        'Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…': 'Delete User',
        '{% trans "List" %} Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†': 'Users List',
        
        // Navigation Terms
        'Ù„ÙˆØ­Ø© Ø§Ù„Ù‚ÙŠØ§Ø¯Ø©': 'Dashboard',
        'Ø§Ù„{% trans "List" %} {% trans "Dashboard" %}': 'Main Menu',
        'Ø§Ù„{% trans "List" %} Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ©': 'Sidebar',
        '{% trans "Home" %}': 'Home Page',
        'Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©': 'Back to Home',
        'Ø§ØªØµÙ„ Ø¨Ù†Ø§': 'Contact Us',
        'Ø¹Ù† Ø§Ù„Ø´Ø±ÙƒØ©': 'About Company',
        'Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©': 'Privacy Policy',
        'Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…': 'Terms & Conditions',
        
        // Action Buttons
        '{% trans "Add" %} {% trans "New" %}': 'Add New',
        'Ø¥Ù†Ø´Ø§Ø¡ {% trans "New" %}': 'Create New',
        '{% trans "Edit" %} Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'Edit Data',
        '{% trans "Save" %} Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'Save Data',
        '{% trans "Delete" %} Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'Delete Data',
        '{% trans "View" %} Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'View Data',
        '{% trans "Print" %} Ø§Ù„{% trans "Report" %}': 'Print Report',
        '{% trans "Export" %} Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'Export Data',
        '{% trans "Import" %} Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'Import Data',
        'ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'Update Data',
        'Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„': 'Reload',
        'ØªØ±Ø§Ø¬Ø¹': 'Undo',
        'Ø¥Ø¹Ø§Ø¯Ø©': 'Redo',
        'Ù†Ø³Ø®': 'Copy',
        'Ù„ØµÙ‚': 'Paste',
        'Ù‚Øµ': 'Cut',
        
        // Form Labels
        'Username': 'Username',
        'Password': 'Password',
        'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§{% trans "No" %}Ù„ÙƒØªØ±ÙˆÙ†ÙŠ': 'Email',
        'Ø±Ù‚Ù… {% trans "Phone" %}': 'Phone Number',
        '{% trans "Address" %} Ø§Ù„Ø§Ù„ÙƒØ§Ù…Ù„': 'Full Address',
        'ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠ{% trans "No" %}Ø¯': 'Date of Birth',
        'Ø§Ù„Ø¬Ù†Ø³ÙŠØ©': 'Nationality',
        '{% trans "City" %}': 'City',
        'Ø§Ù„Ø¨Ù„Ø¯': 'Country',
        'Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø¨Ø±ÙŠØ¯ÙŠ': 'Postal Code',
        'Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨': 'Account Type',
        'Account Number': 'Account Number',
        'Bank Name': 'Bank Name',
        'ÙØ±Ø¹ Ø§Ù„Ø¨Ù†Ùƒ': 'Bank Branch',
        
        // Status Messages
        'ØªÙ… Ø§Ù„Ø­ÙØ¸': 'Saved',
        'ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ„': 'Modified',
        'ØªÙ… Ø§Ù„Ø­Ø°Ù': 'Deleted',
        'ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡': 'Created',
        'ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ«': 'Updated',
        'ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„': 'Sent',
        'ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…': 'Received',
        'ØªÙ… Ø§Ù„ØªØ£ÙƒÙŠØ¯': 'Confirmed',
        'ØªÙ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡': 'Cancelled',
        'ÙÙŠ Ø§{% trans "No" %}Ù†ØªØ¸Ø§Ø±': 'Pending',
        'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©': 'Under Review',
        '{% trans "Rejected" %}': 'Rejected',
        'Ù…Ù‚Ø¨ÙˆÙ„': 'Accepted',
        '{% trans "OK" %} Ø¹Ù„ÙŠÙ‡': 'Approved',
        
        // Error Messages
        '{% trans "Error" %} ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…': 'System Error',
        '{% trans "Error" %} ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'Database Error',
        '{% trans "Error" %} ÙÙŠ Ø§{% trans "No" %}ØªØµØ§Ù„': 'Connection Error',
        'Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©': 'Invalid Data',
        'Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨': 'Required Field',
        'ØªÙ… ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯ Ø§Ù„Ù…Ø³Ù…ÙˆØ­': 'Limit Exceeded',
        'ØºÙŠØ± Ù…ØµØ±Ø­': 'Unauthorized',
        'Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©': 'Expired',
        'ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯': 'Not Found',
        'ØºÙŠØ± {% trans "Available" %}': 'Not Available',
        
        // Financial Terms
        'Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ': 'Saudi Riyal',
        'Ø±ÙŠØ§Ù„': 'Riyal',
        'Ø±.Ø³': 'SAR',
        'Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ': 'Egyptian Pound',
        'Ø¯Ùˆ{% trans "No" %}Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ': 'US Dollar',
        'ÙŠÙˆØ±Ùˆ': 'Euro',
        'Ø¯ÙŠÙ†Ø§Ø± ÙƒÙˆÙŠØªÙŠ': 'Kuwaiti Dinar',
        'Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ': 'UAE Dirham',
        'Ù‚Ø±Ø´': 'Piaster',
        'Ù‡Ù„Ù„Ø©': 'Halalah',
        
        // Additional Common Words and Phrases
        'ØµÙØ­Ø©': 'Page',
        'Ø§Ù„ØµÙØ­Ø©': 'Page',
        'ØµÙØ­Ø§Øª': 'Pages',
        'Ø§Ù„ØµÙØ­Ø§Øª': 'Pages',
        'Ù†Ø§ÙØ°Ø©': 'Window',
        'Ø§Ù„Ù†Ø§ÙØ°Ø©': 'Window',
        'Ù†ÙˆØ§ÙØ°': 'Windows',
        'Ø§Ù„Ù†ÙˆØ§ÙØ°': 'Windows',
        'Ø­Ù‚Ù„': 'Field',
        'Ø§Ù„Ø­Ù‚Ù„': 'Field',
        'Ø­Ù‚ÙˆÙ„': 'Fields',
        'Ø§Ù„Ø­Ù‚ÙˆÙ„': 'Fields',
        'Ø§Ø³ØªÙ…Ø§Ø±Ø©': 'Form',
        'Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø±Ø©': 'Form',
        'Ø§Ø³ØªÙ…Ø§Ø±Ø§Øª': 'Forms',
        'Ø§{% trans "No" %}Ø³ØªÙ…Ø§Ø±Ø§Øª': 'Forms',
        'Ù†Ù…ÙˆØ°Ø¬': 'Form',
        'Ø§Ù„Ù†Ù…ÙˆØ°Ø¬': 'Form',
        'Ù†Ù…Ø§Ø°Ø¬': 'Forms',
        'Ø§Ù„Ù†Ù…Ø§Ø°Ø¬': 'Forms',
        
        // Database and System Terms
        'Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'Database',
        'Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª': 'Database',
        'Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª': 'Databases',
        'Ù‚ÙˆØ§Ø¹Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª': 'Databases',
        'Ø®Ø§Ø¯Ù…': 'Server',
        'Ø§Ù„Ø®Ø§Ø¯Ù…': 'Server',
        'Ø®ÙˆØ§Ø¯Ù…': 'Servers',
        'Ø§Ù„Ø®ÙˆØ§Ø¯Ù…': 'Servers',
        'Ø´Ø¨ÙƒØ©': 'Network',
        'Ø§Ù„Ø´Ø¨ÙƒØ©': 'Network',
        'Ø´Ø¨ÙƒØ§Øª': 'Networks',
        'Ø§Ù„Ø´Ø¨ÙƒØ§Øª': 'Networks',
        'Ø§ØªØµØ§Ù„': 'Connection',
        'Ø§{% trans "No" %}ØªØµØ§Ù„': 'Connection',
        'Ø§ØªØµØ§{% trans "No" %}Øª': 'Connections',
        'Ø§{% trans "No" %}ØªØµØ§{% trans "No" %}Øª': 'Connections',
        
        // Action Words
        'ØªØ´ØºÙŠÙ„': 'Run',
        'Ø§Ù„ØªØ´ØºÙŠÙ„': 'Run',
        'Ø¥ÙŠÙ‚Ø§Ù': 'Stop',
        'Ø§Ù„Ø¥ÙŠÙ‚Ø§Ù': 'Stop',
        'Ø¨Ø¯Ø¡': 'Start',
        'Ø§Ù„Ø¨Ø¯Ø¡': 'Start',
        'Ø§Ù†ØªÙ‡Ø§Ø¡': 'End',
        'Ø§{% trans "No" %}Ù†ØªÙ‡Ø§Ø¡': 'End',
        'Ø§Ø³ØªÙƒÙ…Ø§Ù„': 'Complete',
        'Ø§{% trans "No" %}Ø³ØªÙƒÙ…Ø§Ù„': 'Complete',
        'Ù…ØªØ§Ø¨Ø¹Ø©': 'Continue',
        'Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©': 'Continue',
        'ØªÙˆÙ‚Ù': 'Pause',
        'Ø§Ù„ØªÙˆÙ‚Ù': 'Pause',
        'Ø§Ø³ØªØ¦Ù†Ø§Ù': 'Resume',
        'Ø§{% trans "No" %}Ø³ØªØ¦Ù†Ø§Ù': 'Resume',
        
        // UI Elements
        'Ø´Ø§Ø´Ø©': 'Screen',
        'Ø§Ù„Ø´Ø§Ø´Ø©': 'Screen',
        'Ø´Ø§Ø´Ø§Øª': 'Screens',
        'Ø§Ù„Ø´Ø§Ø´Ø§Øª': 'Screens',
        'Ø±Ù…Ø²': 'Icon',
        'Ø§Ù„Ø±Ù…Ø²': 'Icon',
        'Ø±Ù…ÙˆØ²': 'Icons',
        'Ø§Ù„Ø±Ù…ÙˆØ²': 'Icons',
        'Ø¹{% trans "No" %}Ù…Ø©': 'Mark',
        'Ø§Ù„Ø¹{% trans "No" %}Ù…Ø©': 'Mark',
        'Ø¹{% trans "No" %}Ù…Ø§Øª': 'Marks',
        'Ø§Ù„Ø¹{% trans "No" %}Ù…Ø§Øª': 'Marks',
        'Ø¥Ø´Ø§Ø±Ø©': 'Sign',
        'Ø§Ù„Ø¥Ø´Ø§Ø±Ø©': 'Sign',
        'Ø¥Ø´Ø§Ø±Ø§Øª': 'Signs',
        'Ø§Ù„Ø¥Ø´Ø§Ø±Ø§Øª': 'Signs',
        
        // Content Management
        'Ù…Ø­ØªÙˆÙ‰': 'Content',
        'Ø§Ù„Ù…Ø­ØªÙˆÙ‰': 'Content',
        'Ù…Ø­ØªÙˆÙŠØ§Øª': 'Contents',
        'Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª': 'Contents',
        'Ù†Øµ': 'Text',
        'Ø§Ù„Ù†Øµ': 'Text',
        'Ù†ØµÙˆØµ': 'Texts',
        'Ø§Ù„Ù†ØµÙˆØµ': 'Texts',
        'ÙƒÙ„Ù…Ø©': 'Word',
        '{% trans "All" %}Ù…Ø©': 'Word',
        'ÙƒÙ„Ù…Ø§Øª': 'Words',
        '{% trans "All" %}Ù…Ø§Øª': 'Words',
        'Ø¬Ù…Ù„Ø©': 'Sentence',
        'Ø§Ù„Ø¬Ù…Ù„Ø©': 'Sentence',
        'Ø¬Ù…Ù„': 'Sentences',
        'Ø§Ù„Ø¬Ù…Ù„': 'Sentences',
        'ÙÙ‚Ø±Ø©': 'Paragraph',
        'Ø§Ù„ÙÙ‚Ø±Ø©': 'Paragraph',
        'ÙÙ‚Ø±Ø§Øª': 'Paragraphs',
        'Ø§Ù„ÙÙ‚Ø±Ø§Øª': 'Paragraphs',
        
        // More Business Terms
        'Ø¥Ø¯Ø§Ø±Ø©': 'Management',
        'Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©': 'Management',
        'Ù…Ø¯ÙŠØ±': 'Manager',
        'Ø§Ù„Ù…Ø¯ÙŠØ±': 'Manager',
        'Ù…Ø¯ÙŠØ±ÙˆÙ†': 'Managers',
        'Ø§Ù„Ù…Ø¯ÙŠØ±ÙˆÙ†': 'Managers',
        'Ù…ÙˆØ¸Ù': 'Employee',
        'Ø§Ù„Ù…ÙˆØ¸Ù': 'Employee',
        'Ù…ÙˆØ¸ÙÙˆÙ†': 'Employees',
        'Ø§Ù„Ù…ÙˆØ¸ÙÙˆÙ†': 'Employees',
        'Ø¹Ø§Ù…Ù„': 'Worker',
        'Ø§Ù„Ø¹Ø§Ù…Ù„': 'Worker',
        'Ø¹Ù…Ø§Ù„': 'Workers',
        'Ø§Ù„Ø¹Ù…Ø§Ù„': 'Workers',
        'ÙØ±ÙŠÙ‚': 'Team',
        'Ø§Ù„ÙØ±ÙŠÙ‚': 'Team',
        'ÙØ±Ù‚': 'Teams',
        'Ø§Ù„ÙØ±Ù‚': 'Teams',
        
        // More Financial Terms
        '{% trans "Payment" %}Ø©': 'Payment',
        'Ø§Ù„{% trans "Payment" %}Ø©': 'Payment',
        '{% trans "Payment" %}Ø§Øª': 'Payments',
        'Ø§Ù„{% trans "Payment" %}Ø§Øª': 'Payments',
        'Ù‚Ø³Ø·': 'Installment',
        'Ø§Ù„Ù‚Ø³Ø·': 'Installment',
        'Ø£Ù‚Ø³Ø§Ø·': 'Installments',
        'Ø§Ù„Ø£Ù‚Ø³Ø§Ø·': 'Installments',
        'ÙØ§Ø¦Ø¯Ø©': 'Interest',
        'Ø§Ù„ÙØ§Ø¦Ø¯Ø©': 'Interest',
        'ÙÙˆØ§Ø¦Ø¯': 'Interests',
        'Ø§Ù„ÙÙˆØ§Ø¦Ø¯': 'Interests',
        'Ø¹Ù…ÙˆÙ„Ø©': 'Commission',
        'Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©': 'Commission',
        'Ø¹Ù…Ùˆ{% trans "No" %}Øª': 'Commissions',
        'Ø§Ù„Ø¹Ù…Ùˆ{% trans "No" %}Øª': 'Commissions',
        'Ø±Ø³ÙˆÙ…': 'Fees',
        'Ø§Ù„Ø±Ø³ÙˆÙ…': 'Fees',
        'Ø±Ø³Ù…': 'Fee',
        'Ø§Ù„Ø±Ø³Ù…': 'Fee',
        
        // Transaction Terms
        'Ù…Ø¹Ø§Ù…Ù„Ø©': 'Transaction',
        'Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©': 'Transaction',
        'Ù…Ø¹Ø§Ù…{% trans "No" %}Øª': 'Transactions',
        'Ø§Ù„Ù…Ø¹Ø§Ù…{% trans "No" %}Øª': 'Transactions',
        'Ø¹Ù…Ù„ÙŠØ©': 'Operation',
        'Ø§Ù„Ø¹Ù…Ù„ÙŠØ©': 'Operation',
        'Ø¹Ù…Ù„ÙŠØ§Øª': 'Operations',
        'Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª': 'Operations',
        'Ø¥Ø¬Ø±Ø§Ø¡': 'Procedure',
        'Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡': 'Procedure',
        'Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª': 'Procedures',
        'Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª': 'Procedures',
        'Ø®Ø·ÙˆØ©': 'Step',
        'Ø§Ù„Ø®Ø·ÙˆØ©': 'Step',
        'Ø®Ø·ÙˆØ§Øª': 'Steps',
        'Ø§Ù„Ø®Ø·ÙˆØ§Øª': 'Steps',
        
        // Time and Date Terms
        'ÙŠÙˆÙ…': 'Day',
        '{% trans "Today" %}': 'Day',
        'Ø£ÙŠØ§Ù…': 'Days',
        'Ø§Ù„Ø£ÙŠØ§Ù…': 'Days',
        'Ø´Ù‡Ø±': 'Month',
        'Ø§Ù„Ø´Ù‡Ø±': 'Month',
        'Ø£Ø´Ù‡Ø±': 'Months',
        'Ø§Ù„Ø£Ø´Ù‡Ø±': 'Months',
        'Ø³Ù†Ø©': 'Year',
        'Ø§Ù„Ø³Ù†Ø©': 'Year',
        'Ø³Ù†ÙˆØ§Øª': 'Years',
        'Ø§Ù„Ø³Ù†ÙˆØ§Øª': 'Years',
        'Ø³Ø§Ø¹Ø©': 'Hour',
        'Ø§Ù„Ø³Ø§Ø¹Ø©': 'Hour',
        'Ø³Ø§Ø¹Ø§Øª': 'Hours',
        'Ø§Ù„Ø³Ø§Ø¹Ø§Øª': 'Hours',
        'Ø¯Ù‚ÙŠÙ‚Ø©': 'Minute',
        'Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©': 'Minute',
        'Ø¯Ù‚Ø§Ø¦Ù‚': 'Minutes',
        'Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚': 'Minutes',
        'Ø«Ø§Ù†ÙŠØ©': 'Second',
        '{% trans "Second" %}Ø©': 'Second',
        'Ø«ÙˆØ§Ù†': 'Seconds',
        'Ø§Ù„Ø«ÙˆØ§Ù†': 'Seconds',
        
        // Colors
        'Ø£Ø­Ù…Ø±': 'Red',
        'Ø£Ø®Ø¶Ø±': 'Green',
        'Ø£Ø²Ø±Ù‚': 'Blue',
        'Ø£ØµÙØ±': 'Yellow',
        'Ø£Ø³ÙˆØ¯': 'Black',
        'Ø£Ø¨ÙŠØ¶': 'White',
        'Ø±Ù…Ø§Ø¯ÙŠ': 'Gray',
        'Ø¨Ù†ÙŠ': 'Brown',
        'Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ': 'Orange',
        'Ø¨Ù†ÙØ³Ø¬ÙŠ': 'Purple',
        'ÙˆØ±Ø¯ÙŠ': 'Pink',
        
        // Directions
        'ÙŠÙ…ÙŠÙ†': 'Right',
        'ÙŠØ³Ø§Ø±': 'Left',
        'Ø£Ø¹Ù„Ù‰': 'Top',
        'Ø£Ø³ÙÙ„': 'Bottom',
        'ÙˆØ³Ø·': 'Center',
        'Ø´Ù…Ø§Ù„': 'North',
        'Ø¬Ù†ÙˆØ¨': 'South',
        'Ø´Ø±Ù‚': 'East',
        'ØºØ±Ø¨': 'West',
        
        // More Common Verbs
        'ÙŠ{% trans "Open" %}': 'Opens',
        'ÙŠØºÙ„Ù‚': 'Closes',
        'ÙŠØ¸Ù‡Ø±': 'Shows',
        'ÙŠØ®ÙÙŠ': 'Hides',
        'ÙŠØ±Ø³Ù„': 'Sends',
        'ÙŠØ³ØªÙ‚Ø¨Ù„': 'Receives',
        'ÙŠÙ‚Ø±Ø£': 'Reads',
        'ÙŠÙƒØªØ¨': 'Writes',
        'ÙŠØ·Ø¨Ø¹': 'Prints',
        'ÙŠØ­Ù…Ù„': 'Loads',
        'ÙŠ{% trans "Save" %}': 'Saves',
        'ÙŠ{% trans "Delete" %}': 'Deletes',
        'ÙŠØ¹Ø¯Ù„': 'Edits',
        'ÙŠÙ†Ø´Ø¦': 'Creates',
        'ÙŠØ¶ÙŠÙ': 'Adds',
        'ÙŠØ²ÙŠÙ„': 'Removes',
        'ÙŠØ¨Ø­Ø«': 'Searches',
        'ÙŠØ¬Ø¯': 'Finds',
        'ÙŠØ®ØªØ§Ø±': 'Selects',
        'ÙŠØ­Ø¯Ø¯': 'Specifies',
        
        // Technical Terms
        'ØªØ·Ø¨ÙŠÙ‚': 'Application',
        'Ø§Ù„ØªØ·Ø¨ÙŠÙ‚': 'Application',
        'ØªØ·Ø¨ÙŠÙ‚Ø§Øª': 'Applications',
        'Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª': 'Applications',
        'Ø¨Ø±Ù†Ø§Ù…Ø¬': 'Program',
        'Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬': 'Program',
        'Ø¨Ø±Ø§Ù…Ø¬': 'Programs',
        'Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬': 'Programs',
        'Ù†Ø¸Ø§Ù…': 'System',
        'Ø§Ù„Ù†Ø¸Ø§Ù…': 'System',
        'Ø£Ù†Ø¸Ù…Ø©': 'Systems',
        'Ø§Ù„Ø£Ù†Ø¸Ù…Ø©': 'Systems',
        'ØªÙ‚Ù†ÙŠØ©': 'Technology',
        'Ø§Ù„ØªÙ‚Ù†ÙŠØ©': 'Technology',
        'ØªÙ‚Ù†ÙŠØ§Øª': 'Technologies',
        'Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª': 'Technologies'
    };
    
    // Enhanced Ultra-Comprehensive Translation System
    function translateText(text) {
        if (!text || typeof text !== 'string') return text;
        
        let translatedText = text.trim();
        
        // Direct translation first
        if (TRANSLATIONS[translatedText]) {
            return TRANSLATIONS[translatedText];
        }
        
        // Enhanced word-by-word translation for mixed content
        const words = translatedText.split(/\s+/);
        let hasTranslation = false;
        
        const translatedWords = words.map(word => {
            // Clean the word from punctuation for translation
            const cleanWord = word.replace(/[ØŒØ›:.!?()[\]{}"""''`~@#$%^&*+=<>]/g, '');
            
            // Check if cleaned word exists in translations
            if (TRANSLATIONS[cleanWord]) {
                hasTranslation = true;
                return word.replace(cleanWord, TRANSLATIONS[cleanWord]);
            }
            
            // Check for variations with "Ø§Ù„" prefix
            if (cleanWord.startsWith('Ø§Ù„') && cleanWord.length > 2) {
                const withoutAl = cleanWord.substring(2);
                if (TRANSLATIONS[withoutAl]) {
                    hasTranslation = true;
                    return word.replace(cleanWord, 'The ' + TRANSLATIONS[withoutAl]);
                }
                if (TRANSLATIONS['Ø§Ù„' + withoutAl]) {
                    hasTranslation = true;
                    return word.replace(cleanWord, TRANSLATIONS['Ø§Ù„' + withoutAl]);
                }
            }
            
            // Check for plurals ending with "Ø§Øª", "ÙˆÙ†", "ÙŠÙ†"
            if (cleanWord.endsWith('Ø§Øª') && cleanWord.length > 3) {
                const singular = cleanWord.substring(0, cleanWord.length - 2);
                if (TRANSLATIONS[singular]) {
                    hasTranslation = true;
                    return word.replace(cleanWord, TRANSLATIONS[singular] + 's');
                }
            }
            
            if (cleanWord.endsWith('ÙˆÙ†') && cleanWord.length > 3) {
                const singular = cleanWord.substring(0, cleanWord.length - 2);
                if (TRANSLATIONS[singular]) {
                    hasTranslation = true;
                    return word.replace(cleanWord, TRANSLATIONS[singular] + 's');
                }
            }
            
            if (cleanWord.endsWith('ÙŠÙ†') && cleanWord.length > 3) {
                const singular = cleanWord.substring(0, cleanWord.length - 2);
                if (TRANSLATIONS[singular]) {
                    hasTranslation = true;
                    return word.replace(cleanWord, TRANSLATIONS[singular] + 's');
                }
            }
            
            return word;
        });
        
        if (hasTranslation) {
            translatedText = translatedWords.join(' ');
        }
        
        // Enhanced partial translations - check all possible substrings
        const sortedKeys = Object.keys(TRANSLATIONS).sort((a, b) => b.length - a.length);
        sortedKeys.forEach(arabicText => {
            if (translatedText.includes(arabicText)) {
                const regex = new RegExp(arabicText.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
                translatedText = translatedText.replace(regex, TRANSLATIONS[arabicText]);
            }
        });
        
        return translatedText;
    }
    
    function translatePage() {
        try {
            // Ultra-comprehensive translation approach
            
            // Phase 1: TreeWalker for all text nodes
            const walker = document.createTreeWalker(
                document.body,
                NodeFilter.SHOW_TEXT,
                {
                    acceptNode: function(node) {
                        // Skip script, style, and other non-visible elements
                        const parent = node.parentElement;
                        if (!parent || ['SCRIPT', 'STYLE', 'NOSCRIPT', 'META', 'LINK'].includes(parent.tagName)) {
                            return NodeFilter.FILTER_REJECT;
                        }
                        
                        const text = node.textContent.trim();
                        if (text && /[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/.test(text)) {
                            return NodeFilter.FILTER_ACCEPT;
                        }
                        return NodeFilter.FILTER_REJECT;
                    }
                }
            );
            
            let textNode;
            const textNodes = [];
            while (textNode = walker.nextNode()) {
                textNodes.push(textNode);
            }
            
            // Translate all collected text nodes
            textNodes.forEach(node => {
                const originalText = node.textContent.trim();
                if (originalText) {
                    const translatedText = translateText(originalText);
                    if (translatedText !== originalText) {
                        node.textContent = translatedText;
                    }
                }
            });
            
            // Phase 2: Element-based translation for specific selectors
            const selectors = [
                'h1', 'h2', 'h3', 'h4', 'h5', 'h6',
                'p', 'span', 'div', 'a', 'button', 'label',
                'th', 'td', 'li', 'option', 'legend',
                '.nav-link', '.btn', '.form-label', '.card-title', '.card-text',
                '.alert', '.badge', '.breadcrumb-item', '.dropdown-item',
                '.nav-item', '.sidebar-nav-item', '.navbar-nav a'
            ];
            
            selectors.forEach(selector => {
                document.querySelectorAll(selector).forEach(element => {
                    if (element.textContent && /[\u0600-\u06FF]/.test(element.textContent)) {
                        // Only translate if element contains only text (no nested elements with different content)
                        if (element.children.length === 0 || 
                            (element.children.length === 1 && element.children[0].tagName === 'I' && element.children[0].classList.contains('fas'))) {
                            const originalText = element.textContent.trim();
                            const translatedText = translateText(originalText);
                            if (translatedText !== originalText) {
                                if (element.children.length === 1 && element.children[0].tagName === 'I') {
                                    // Preserve icon and translate only text
                                    const icon = element.children[0].outerHTML;
                                    element.innerHTML = icon + ' ' + translatedText.replace(originalText.trim(), '').trim();
                                } else {
                                    element.textContent = translatedText;
                                }
                            }
                        }
                    }
                });
            });
            
            // Phase 3: Attribute translation
            const attributesToTranslate = [
                'placeholder', 'title', 'alt', 'data-original-title', 
                'aria-label', 'data-bs-title', 'data-bs-original-title',
                'value', 'label', 'aria-labelledby'
            ];
            
            attributesToTranslate.forEach(attr => {
                document.querySelectorAll(`[${attr}]`).forEach(element => {
                    const originalValue = element.getAttribute(attr);
                    if (originalValue && originalValue.trim() && /[\u0600-\u06FF]/.test(originalValue)) {
                        const translatedValue = translateText(originalValue.trim());
                        if (translatedValue !== originalValue.trim()) {
                            element.setAttribute(attr, translatedValue);
                        }
                    }
                });
            });
            
            // Phase 4: Input values and option texts
            document.querySelectorAll('input[type="text"], input[type="search"], textarea').forEach(input => {
                if (input.value && /[\u0600-\u06FF]/.test(input.value)) {
                    const translatedValue = translateText(input.value);
                    if (translatedValue !== input.value) {
                        input.value = translatedValue;
                    }
                }
            });
            
            // Phase 5: Special Bootstrap components
            document.querySelectorAll('.dropdown-menu .dropdown-item').forEach(item => {
                if (item.textContent && /[\u0600-\u06FF]/.test(item.textContent)) {
                    const originalText = item.textContent.trim();
                    const translatedText = translateText(originalText);
                    if (translatedText !== originalText) {
                        item.textContent = translatedText;
                    }
                }
            });
            
            // Phase 6: Table content
            document.querySelectorAll('table').forEach(table => {
                table.querySelectorAll('th, td').forEach(cell => {
                    if (cell.textContent && /[\u0600-\u06FF]/.test(cell.textContent) && cell.children.length === 0) {
                        const originalText = cell.textContent.trim();
                        const translatedText = translateText(originalText);
                        if (translatedText !== originalText) {
                            cell.textContent = translatedText;
                        }
                    }
                });
            });
            
            // Phase 7: Form elements
            document.querySelectorAll('form').forEach(form => {
                form.querySelectorAll('label, legend, .form-text, .help-text').forEach(element => {
                    if (element.textContent && /[\u0600-\u06FF]/.test(element.textContent)) {
                        const originalText = element.textContent.trim();
                        const translatedText = translateText(originalText);
                        if (translatedText !== originalText) {
                            element.textContent = translatedText;
                        }
                    }
                });
            });
            
        } catch (error) {
            console.log('Translation error:', error);
        }
    }
    
    // Ultra-Advanced Translation Execution System
    document.addEventListener('DOMContentLoaded', function() {
        // Initial translations with increasing delays
        setTimeout(translatePage, 100);   // Very early
        setTimeout(translatePage, 300);   // Early
        setTimeout(translatePage, 600);   // Medium
        setTimeout(translatePage, 1000);  // Late
        setTimeout(translatePage, 2000);  // Very late
        
        // Force translation of special forms and tables
        setTimeout(translateFormsAndTables, 500);
        setTimeout(translateFormsAndTables, 1200);
        setTimeout(translateFormsAndTables, 2500);
        
        // Ultimate force translation
        setTimeout(forceTranslateAll, 3000);
        setTimeout(forceTranslateAll, 5000);
        
        // Continuous translation every 3 seconds
        setInterval(function() {
            if (document.documentElement.lang === 'en') {
                translatePage();
            }
        }, 3000);
        
        // Also run translation when page becomes visible (tab focus)
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden && document.documentElement.lang === 'en') {
                setTimeout(translatePage, 100);
                setTimeout(translateFormsAndTables, 200);
            }
        });
        
        // Translation on scroll (for lazy-loaded content)
        let scrollTimeout;
        window.addEventListener('scroll', function() {
            if (document.documentElement.lang === 'en') {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(translatePage, 500);
            }
        });
        
        // Translation on resize (for responsive content)
        let resizeTimeout;
        window.addEventListener('resize', function() {
            if (document.documentElement.lang === 'en') {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(translatePage, 300);
            }
        });
    });
    
    // Advanced Dynamic Content Observer
    const observer = new MutationObserver(function(mutations) {
        let needsTranslation = false;
        
        mutations.forEach(function(mutation) {
            if (mutation.type === 'childList') {
                // Check added nodes
                mutation.addedNodes.forEach(function(node) {
                    if (node.nodeType === Node.ELEMENT_NODE) {
                        // Check if the added element contains Arabic text
                        if (node.textContent && /[\u0600-\u06FF]/.test(node.textContent)) {
                            needsTranslation = true;
                        }
                    } else if (node.nodeType === Node.TEXT_NODE) {
                        // Check if the added text node is Arabic
                        if (node.textContent && /[\u0600-\u06FF]/.test(node.textContent)) {
                            needsTranslation = true;
                        }
                    }
                });
            } else if (mutation.type === 'characterData') {
                // Check modified text content
                if (mutation.target.textContent && /[\u0600-\u06FF]/.test(mutation.target.textContent)) {
                    needsTranslation = true;
                }
            } else if (mutation.type === 'attributes') {
                // Check modified attributes
                const element = mutation.target;
                const attributeName = mutation.attributeName;
                if (['placeholder', 'title', 'alt', 'aria-label', 'data-bs-title'].includes(attributeName)) {
                    const attributeValue = element.getAttribute(attributeName);
                    if (attributeValue && /[\u0600-\u06FF]/.test(attributeValue)) {
                        needsTranslation = true;
                    }
                }
            }
        });
        
        if (needsTranslation && document.documentElement.lang === 'en') {
            // Immediate translation for critical content
            setTimeout(translatePage, 50);
            // Follow-up translation to catch any missed content
            setTimeout(translatePage, 300);
            setTimeout(translateFormsAndTables, 400);
        }
    });
    
    // Start observing the document with comprehensive options
    observer.observe(document.body, {
        childList: true,
        subtree: true,
        characterData: true,
        attributes: true,
        attributeFilter: ['placeholder', 'title', 'alt', 'aria-label', 'data-bs-title', 'value', 'textContent']
    });
    
    // Comprehensive Event-Based Translation System
    
    // Translation on various user interactions
    ['click', 'focus', 'blur', 'change', 'input', 'keyup', 'mouseenter', 'mouseleave'].forEach(eventType => {
        document.addEventListener(eventType, function(e) {
            if (document.documentElement.lang === 'en') {
                // Delayed translation to allow for content updates
                setTimeout(translatePage, 100);
            }
        });
    });
    
    // Special handling for form submissions and AJAX calls
    const originalFetch = window.fetch;
    window.fetch = function(...args) {
        return originalFetch.apply(this, args).then(response => {
            if (document.documentElement.lang === 'en') {
                // Translate after AJAX content is loaded
                setTimeout(translatePage, 200);
                setTimeout(translateFormsAndTables, 400);
            }
            return response;
        });
    };
    
    // Override XMLHttpRequest for older AJAX calls
    const originalXHROpen = XMLHttpRequest.prototype.open;
    XMLHttpRequest.prototype.open = function() {
        this.addEventListener('load', function() {
            if (document.documentElement.lang === 'en') {
                setTimeout(translatePage, 150);
                setTimeout(translateFormsAndTables, 300);
            }
        });
        return originalXHROpen.apply(this, arguments);
    };
    
    // Translation on hash change and popstate
    window.addEventListener('hashchange', function() {
        if (document.documentElement.lang === 'en') {
            setTimeout(translatePage, 200);
        }
    });
    
    window.addEventListener('popstate', function() {
        if (document.documentElement.lang === 'en') {
            setTimeout(translatePage, 300);
        }
    });
    
    // Translation when Bootstrap components are shown
    document.addEventListener('shown.bs.modal', function() {
        if (document.documentElement.lang === 'en') {
            setTimeout(translatePage, 100);
        }
    });
    
    document.addEventListener('shown.bs.collapse', function() {
        if (document.documentElement.lang === 'en') {
            setTimeout(translatePage, 100);
        }
    });
    
    document.addEventListener('shown.bs.dropdown', function() {
        if (document.documentElement.lang === 'en') {
            setTimeout(translatePage, 50);
        }
    });
    
    document.addEventListener('shown.bs.tab', function() {
        if (document.documentElement.lang === 'en') {
            setTimeout(translatePage, 100);
        }
    });
    
    // Special translation for forms and tables
    function translateFormsAndTables() {
        // Translate form labels
        document.querySelectorAll('label').forEach(label => {
            if (label.textContent && /[\u0600-\u06FF]/.test(label.textContent)) {
                const originalText = label.textContent.trim();
                const translatedText = translateText(originalText);
                if (translatedText !== originalText) {
                    label.textContent = translatedText;
                }
            }
        });
        
        // Translate table headers and cells
        document.querySelectorAll('th, td').forEach(cell => {
            if (cell.textContent && /[\u0600-\u06FF]/.test(cell.textContent)) {
                const originalText = cell.textContent.trim();
                const translatedText = translateText(originalText);
                if (translatedText !== originalText) {
                    cell.textContent = translatedText;
                }
            }
        });
        
        // Translate buttons
        document.querySelectorAll('button, .btn').forEach(btn => {
            if (btn.textContent && /[\u0600-\u06FF]/.test(btn.textContent)) {
                const originalText = btn.textContent.trim();
                const translatedText = translateText(originalText);
                if (translatedText !== originalText) {
                    btn.textContent = translatedText;
                }
            }
        });
        
        // Translate navigation items specifically
        document.querySelectorAll('.nav-link, .navbar-nav a, .sidebar a').forEach(navItem => {
            if (navItem.textContent && /[\u0600-\u06FF]/.test(navItem.textContent)) {
                const originalText = navItem.textContent.trim();
                const translatedText = translateText(originalText);
                if (translatedText !== originalText) {
                    navItem.textContent = translatedText;
                }
            }
        });
        
        // Translate breadcrumb items
        document.querySelectorAll('.breadcrumb-item').forEach(breadcrumb => {
            if (breadcrumb.textContent && /[\u0600-\u06FF]/.test(breadcrumb.textContent)) {
                const originalText = breadcrumb.textContent.trim();
                const translatedText = translateText(originalText);
                if (translatedText !== originalText) {
                    breadcrumb.textContent = translatedText;
                }
            }
        });
        
        // Translate card titles and text
        document.querySelectorAll('.card-title, .card-text, .card-header').forEach(cardElement => {
            if (cardElement.textContent && /[\u0600-\u06FF]/.test(cardElement.textContent)) {
                const originalText = cardElement.textContent.trim();
                const translatedText = translateText(originalText);
                if (translatedText !== originalText) {
                    cardElement.textContent = translatedText;
                }
            }
        });
        
        // Translate alerts and messages
        document.querySelectorAll('.alert, .message').forEach(alert => {
            if (alert.textContent && /[\u0600-\u06FF]/.test(alert.textContent)) {
                const originalText = alert.textContent.trim();
                const translatedText = translateText(originalText);
                if (translatedText !== originalText) {
                    alert.textContent = translatedText;
                }
            }
        });
    }
    
    // Run special translation for forms and tables
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(translateFormsAndTables, 300);
        setTimeout(translateFormsAndTables, 600);
        setTimeout(translateFormsAndTables, 1200);
        
        // Run special translation periodically
        setInterval(function() {
            if (document.documentElement.lang === 'en') {
                translateFormsAndTables();
            }
        }, 3000);
    });
    
    // Ultimate Comprehensive Translation System - Final Version
    
    // Force translate any remaining Arabic text - ENHANCED
    function forceTranslateAll() {
        if (document.documentElement.lang !== 'en') return;
        
        try {
            // Method 1: TreeWalker for all text nodes
            const allTextNodes = document.createTreeWalker(
                document.body,
                NodeFilter.SHOW_TEXT,
                {
                    acceptNode: function(node) {
                        const parent = node.parentElement;
                        if (!parent || ['SCRIPT', 'STYLE', 'NOSCRIPT'].includes(parent.tagName)) {
                            return NodeFilter.FILTER_REJECT;
                        }
                        const text = node.textContent.trim();
                        return text && /[\u0600-\u06FF]/.test(text) ? 
                            NodeFilter.FILTER_ACCEPT : 
                            NodeFilter.FILTER_REJECT;
                    }
                }
            );
            
            let textNode;
            while (textNode = allTextNodes.nextNode()) {
                const originalText = textNode.textContent.trim();
                if (originalText) {
                    const translatedText = translateText(originalText);
                    if (translatedText !== originalText) {
                        textNode.textContent = translatedText;
                    }
                }
            }
            
            // Method 2: Query all possible elements with Arabic content
            const allElements = document.querySelectorAll('*:not(script):not(style):not(noscript)');
            allElements.forEach(element => {
                if (element.textContent && 
                    /[\u0600-\u06FF]/.test(element.textContent) && 
                    element.children.length === 0) {
                    
                    const originalText = element.textContent.trim();
                    const translatedText = translateText(originalText);
                    if (translatedText !== originalText) {
                        element.textContent = translatedText;
                    }
                }
            });
            
        } catch (error) {
            console.log('Ultimate force translation error:', error);
        }
    }
    
    // Enhanced Final Translation Function
    function finalTranslationSweep() {
        if (document.documentElement.lang !== 'en') return;
        
        // Final comprehensive sweep of all text content
        const finalSelectors = [
            'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'p', 'span', 'div', 'a', 'button', 
            'label', 'th', 'td', 'li', 'option', 'legend', 'caption', 'figcaption',
            '.nav-link', '.btn', '.form-label', '.card-title', '.card-text', '.alert',
            '.badge', '.breadcrumb-item', '.dropdown-item', '.list-group-item',
            '.tab-pane', '[data-bs-toggle]', '.modal-title', '.modal-body',
            '.toast-header', '.toast-body', '.accordion-header', '.accordion-body'
        ];
        
        finalSelectors.forEach(selector => {
            document.querySelectorAll(selector).forEach(element => {
                if (element.textContent && /[\u0600-\u06FF]/.test(element.textContent)) {
                    const hasOnlyTextOrIcon = element.children.length === 0 || 
                        (element.children.length === 1 && element.children[0].tagName === 'I' && 
                         element.children[0].classList.contains('fas'));
                        
                    if (hasOnlyTextOrIcon) {
                        const originalText = element.textContent.trim();
                        const translatedText = translateText(originalText);
                        if (translatedText !== originalText) {
                            if (element.children.length === 1 && element.children[0].tagName === 'I') {
                                const icon = element.children[0].outerHTML;
                                element.innerHTML = icon + ' ' + translatedText.replace(/^\s*/, '');
                            } else {
                                element.textContent = translatedText;
                            }
                        }
                    }
                }
            });
        });
        
        // Final attribute translation
        document.querySelectorAll('[placeholder], [title], [alt], [aria-label], [data-bs-title]').forEach(element => {
            ['placeholder', 'title', 'alt', 'aria-label', 'data-bs-title'].forEach(attr => {
                const value = element.getAttribute(attr);
                if (value && /[\u0600-\u06FF]/.test(value)) {
                    const translatedValue = translateText(value);
                    if (translatedValue !== value) {
                        element.setAttribute(attr, translatedValue);
                    }
                }
            });
        });
    }
    
    // Ultimate Translation Execution System - FIXED for Arabic Version
    document.addEventListener('DOMContentLoaded', function() {
        // CRITICAL: Only run translation in English version
        if (document.documentElement.lang !== 'en') {
            console.log('ðŸŒ Arabic version detected - translation system disabled');
            return; // Exit immediately for Arabic version
        }
        
        console.log('ðŸŒ English version detected - enabling translation system');
        
        // Defer translation to avoid blocking page rendering
        setTimeout(function() {
            // Initial translation with reduced frequency
            forceTranslateAll();
            finalTranslationSweep();
        }, 500);
        
        // Secondary phase - less aggressive
        setTimeout(function() {
            forceTranslateAll();
            finalTranslationSweep();
        }, 2000);
        
        // Final phase - only if needed
        setTimeout(function() {
            if (document.documentElement.lang === 'en') {
                forceTranslateAll();
                finalTranslationSweep();
                console.log('ðŸŒŸ Ultimate Arabic translation completed! ðŸŒŸ');
            }
        }, 5000);
        
        // Reduced monitoring frequency to improve performance
        setInterval(function() {
            if (document.documentElement.lang === 'en') {
                // Only run if there are untranslated Arabic texts
                const arabicTexts = document.querySelectorAll('*');
                let foundUntranslated = false;
                for (let i = 0; i < Math.min(arabicTexts.length, 50); i++) { // Limit check to first 50 elements
                    if (arabicTexts[i].textContent && /[\u0600-\u06FF]/.test(arabicTexts[i].textContent)) {
                        foundUntranslated = true;
                        break;
                    }
                }
                
                if (foundUntranslated) {
                    forceTranslateAll();
                    finalTranslationSweep();
                }
            }
        }, 10000); // Increased interval from 5s to 10s
    });
    
    {% endif %}
    </script>
    
    <!-- Responsive JavaScript -->
    <script src="{% static 'core/js/responsive.js' %}"></script>
    <script src="{% static 'core/js/table-responsive.js' %}"></script>
    
    <!-- Language Switching Enhancement -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù†Ù…Ø§Ø°Ø¬ ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
        const languageForms = document.querySelectorAll('.language-form');
        languageForms.forEach(form => {
            form.addEventListener('submit', function(e) {
                // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©
                const targetLang = this.dataset.targetLang;
                const nextField = this.querySelector('.next-field');
                const currentPath = nextField.value;
                
                // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø³Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©
                let newPath = currentPath;
                if (targetLang === 'ar') {
                    // Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                    if (newPath.startsWith('/en/')) {
                        newPath = newPath.replace('/en/', '/ar/');
                    } else if (!newPath.startsWith('/ar/')) {
                        newPath = '/ar' + newPath;
                    }
                } else if (targetLang === 'en') {
                    // Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
                    if (newPath.startsWith('/ar/')) {
                        newPath = newPath.replace('/ar/', '/en/');
                    } else if (!newPath.startsWith('/en/')) {
                        newPath = '/en' + newPath;
                    }
                }
                
                // ØªØ­Ø¯ÙŠØ« Ù‚ÙŠÙ…Ø© next
                nextField.value = newPath;
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ø´Ø± ØªØ­Ù…ÙŠÙ„
                const button = this.querySelector('button');
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„...';
                button.disabled = true;
                
                // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                setTimeout(() => {
                    if (button.disabled) {
                        button.innerHTML = originalText;
                        button.disabled = false;
                    }
                }, 3000);
            });
        });
    });
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>
