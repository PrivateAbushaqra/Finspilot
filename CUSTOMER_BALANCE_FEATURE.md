# ููุฒุฉ ุนุฑุถ ุฑุตูุฏ ุงูุนููู/ุงูููุฑุฏ - ุชุญุฏูุซ ูุธุงู FinsPilot

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ููุฒุฉ ุฌุฏูุฏุฉ ูุนุฑุถ ุฑุตูุฏ ุงูุนููู ุฃู ุงูููุฑุฏ ุชููุงุฆูุงู ูู ุตูุญุงุช ุฅุถุงูุฉ ุงูููุงุชูุฑุ ููุง ูุณุงุนุฏ ุงููุณุชุฎุฏููู ุนูู ูุนุฑูุฉ ุงูุญุงูุฉ ุงููุงููุฉ ููุนููู/ุงูููุฑุฏ ูุจู ุฅูุดุงุก ุงููุงุชูุฑุฉ.

## ุงูุตูุญุงุช ุงููุญุฏุซุฉ

### 1. ุตูุญุฉ ุฅุถุงูุฉ ูุงุชูุฑุฉ ูุจูุนุงุช
**ุงูุฑุงุจุท:** `http://127.0.0.1:8000/en/sales/invoices/add/`

**ุงูุชุญุณููุงุช:**
- โ ุนูุฏ ุงุฎุชูุงุฑ ุนููู ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉุ ูุธูุฑ ุฑุตูุฏู ุงูุญุงูู ุชููุงุฆูุงู
- โ ุนุฑุถ ุงูุฑุตูุฏ ุจุชูุณูู ุนุฑุจู ูุน ุนููุฉ ุงูุฑูุงู ุงูุณุนูุฏู
- โ ุชูููุฒ ูููู ููุฑุตูุฏ:
  - **ุฃุฎุถุฑ:** ุฑุตูุฏ ููุฌุจ (ุงูุนููู ูู ุฑุตูุฏ)
  - **ุฃุญูุฑ:** ุฑุตูุฏ ุณุงูุจ (ุงูุนููู ุนููู ูุจูุบ)
  - **ุฑูุงุฏู:** ุฑุตูุฏ ุตูุฑ

### 2. ุตูุญุฉ ุฅุถุงูุฉ ูุงุชูุฑุฉ ูุดุชุฑูุงุช
**ุงูุฑุงุจุท:** `http://127.0.0.1:8000/en/purchases/invoices/add/`

**ุงูุชุญุณููุงุช:**
- โ ุนูุฏ ุงุฎุชูุงุฑ ููุฑุฏ ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉุ ูุธูุฑ ุฑุตูุฏู ุงูุญุงูู ุชููุงุฆูุงู
- โ ููุณ ุงูุชูุณูู ูุงูุชูููุฒ ุงููููู ุงููุณุชุฎุฏู ูู ููุงุชูุฑ ุงููุจูุนุงุช

## ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### 1. ุชุญุฏูุซ Backend (ุงูุฎุงุฏู)

#### API Endpoint ูุญุฏุซ
**ุงูููู:** `customers/views.py`
**ุงูุฏุงูุฉ:** `get_customer_supplier_ajax()`

```python
# ุฅุถุงูุฉ ุงูุฑุตูุฏ ุงูุญุงูู ูุงุณุชุฌุงุจุฉ API
'current_balance': float(customer_supplier.current_balance),
```

#### ุญุณุงุจ ุงูุฑุตูุฏ ุงูุญุงูู 
**ุงูููู:** `customers/models.py`
**ุงูุฎุงุตูุฉ:** `current_balance`

ูุชู ุญุณุงุจ ุงูุฑุตูุฏ ุจูุงุกู ุนูู:
- ุงููุนุงููุงุช ุงููุนููุฉ ูู ุงููุธุงู (ุฅุฐุง ูุชููุฑุฉ)
- ุงูุฑุตูุฏ ุงููุญููุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (ูุจุฏูู)

### 2. ุชุญุฏูุซ Frontend (ูุงุฌูุฉ ุงููุณุชุฎุฏู)

#### ุตูุญุฉ ูุงุชูุฑุฉ ุงููุจูุนุงุช
**ุงูููู:** `templates/sales/invoice_add.html`

**HTML ุงููุถุงู:**
```html
<div id="customer-balance-info" class="mt-2" style="display: none;">
    <small class="text-info">
        <i class="fas fa-wallet me-1"></i>
        ุฑุตูุฏ ุงูุนููู: <span id="customer-balance-amount" class="fw-bold"></span>
    </small>
</div>
```

**JavaScript ุงููุถุงู:**
```javascript
// ูุธููุฉ ูุชุญุฏูุซ ุฑุตูุฏ ุงูุนููู
function updateCustomerBalance() {
    // ุงุณุชุฏุนุงุก API ูุงูุญุตูู ุนูู ุงูุจูุงูุงุช
    // ุชุญุฏูุซ ุงูุนุฑุถ ูุน ุงูุชูุณูู ูุงูุฃููุงู ุงูููุงุณุจุฉ
}

// ุฑุจุท ุงูุญุฏุซ ุจุชุบููุฑ ุงูุนููู
document.getElementById('id_customer').addEventListener('change', updateCustomerBalance);
```

#### ุตูุญุฉ ูุงุชูุฑุฉ ุงููุดุชุฑูุงุช
**ุงูููู:** `templates/purchases/invoice_add.html`

ุชู ุฅุถุงูุฉ ููุณ ุงูููุฒุงุช ูุน ุงูุชููู ูุน ุงูููุฑุฏ ุจุฏูุงู ูู ุงูุนููู.

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุณุชุฎุฏู ุงูููุงุฆู:

1. **ูู ุตูุญุฉ ุฅุถุงูุฉ ูุงุชูุฑุฉ ูุจูุนุงุช:**
   - ุงุฎุชุฑ ุนูููุงู ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
   - ุณูุธูุฑ ุฑุตูุฏ ุงูุนููู ุชููุงุฆูุงู ุฃุณูู ุงููุงุฆูุฉ
   - ููููู ุฑุคูุฉ ุงูุญุงูุฉ ุงููุงููุฉ ูุจู ุฅูุดุงุก ุงููุงุชูุฑุฉ

2. **ูู ุตูุญุฉ ุฅุถุงูุฉ ูุงุชูุฑุฉ ูุดุชุฑูุงุช:**
   - ุงุฎุชุฑ ููุฑุฏุงู ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
   - ุณูุธูุฑ ุฑุตูุฏ ุงูููุฑุฏ ุชููุงุฆูุงู ุฃุณูู ุงููุงุฆูุฉ
   - ูุณุงุนุฏู ูู ุงุชุฎุงุฐ ูุฑุงุฑุงุช ุงูุดุฑุงุก

### ููู ุฃููุงู ุงูุฑุตูุฏ:

- **๐ข ุฃุฎุถุฑ:** ูุนูู ุฃู ุงูุนููู/ุงูููุฑุฏ ูู ุฑุตูุฏ ุฅูุฌุงุจู
- **๐ด ุฃุญูุฑ:** ูุนูู ุฃู ุงูุนููู/ุงูููุฑุฏ ุนููู ูุจูุบ (ุฑุตูุฏ ุณุงูุจ)
- **โซ ุฑูุงุฏู:** ูุนูู ุฃู ุงูุฑุตูุฏ ุตูุฑ

## ุงูููุงุฆุฏ

### 1. ุชุญุณูู ุงุชุฎุงุฐ ุงููุฑุงุฑุงุช
- ูุนุฑูุฉ ุงูุญุงูุฉ ุงููุงููุฉ ููุนููู ูุจู ุงูุจูุน
- ุชุฌูุจ ุชุฌุงูุฒ ุญุฏูุฏ ุงูุงุฆุชูุงู
- ุงุชุฎุงุฐ ูุฑุงุฑุงุช ูุฏุฑูุณุฉ ุจุดุฃู ุงูุดุฑุงุก ูู ุงูููุฑุฏูู

### 2. ุชูููุฑ ุงูููุช
- ูุง ุญุงุฌุฉ ููุจุญุซ ูู ุชูุงุฑูุฑ ูููุตูุฉ
- ุงููุนูููุงุช ูุชุงุญุฉ ููุฑุงู ูู ููุณ ุงูุตูุญุฉ
- ุชูููู ุงูุฃุฎุทุงุก ุงููุงููุฉ

### 3. ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- ูุงุฌูุฉ ุฃูุซุฑ ุฐูุงุกู ูุชูุงุนูุงู
- ูุนูููุงุช ูุงุถุญุฉ ููููููุฉ
- ุชุตููู ูุชุฌุงูุจ ูุฌุฐุงุจ

## ุงุฎุชุจุงุฑ ุงูููุฒุฉ

### 1. ูุญุต ุงูุจูุงูุงุช
```bash
# ุงูุชุญูู ูู ูุฌูุฏ ุนููุงุก/ููุฑุฏูู
python manage.py shell -c "
from customers.models import CustomerSupplier
for c in CustomerSupplier.objects.all()[:3]:
    print(f'{c.name}: {c.current_balance}')"
```

### 2. ุงุฎุชุจุงุฑ ุตูุญุงุช ุงูููุจ
1. ุงูุชูู ุฅูู `http://127.0.0.1:8000/en/sales/invoices/add/`
2. ุงุฎุชุฑ ุนูููุงู ูู ุงููุงุฆูุฉ
3. ุชุฃูุฏ ูู ุธููุฑ ุงูุฑุตูุฏ
4. ูุฑุฑ ููุณ ุงูุฎุทูุงุช ูู ุตูุญุฉ ููุงุชูุฑ ุงููุดุชุฑูุงุช

### 3. ุงุฎุชุจุงุฑ API
```javascript
// ูู console ุงููุชุตูุญ
fetch('/customers/api/customer/1/')
  .then(response => response.json())
  .then(data => console.log(data.current_balance));
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ูุญุชููุฉ ูุญููููุง:

#### 1. ุนุฏู ุธููุฑ ุงูุฑุตูุฏ
**ุงูุณุจุจ:** ุฎุทุฃ ูู JavaScript ุฃู API
**ุงูุญู:** ูุญุต console ุงููุชุตูุญ ููุฃุฎุทุงุก

#### 2. ุฑุตูุฏ ุบูุฑ ุตุญูุญ
**ุงูุณุจุจ:** ุฎุทุฃ ูู ุญุณุงุจ ุงูุฑุตูุฏ
**ุงูุญู:** ุงูุชุญูู ูู ุฎุงุตูุฉ `current_balance` ูู ุงููููุฐุฌ

#### 3. ูุดุงูู ูู ุงูุชูุณูู
**ุงูุณุจุจ:** ุฎุทุฃ ูู CSS ุฃู JavaScript
**ุงูุญู:** ุงูุชุฃูุฏ ูู ุชุญููู Bootstrap ูุงูุฎุทูุท ุงูุนุฑุจูุฉ

## ุงูุชูุงูู ูุงูุฃูุงู

### โ ุงูุชูุงูู ูุน ุงููุธุงู ุงูุญุงูู
- ูุง ูุคุซุฑ ุนูู ุฃู ูุธุงุฆู ููุฌูุฏุฉ
- ูุญุงูุธ ุนูู ุฌููุน ุงูููุฒุงุช ุงูุณุงุจูุฉ
- ูุชูุงูู ูุน ุฌููุน ุงููุชุตูุญุงุช ุงูุญุฏูุซุฉ

### โ ุงูุฃูุงู
- ูุณุชุฎุฏู ููุณ ูุธุงู ุงููุตุงุฏูุฉ ุงูููุฌูุฏ
- ูุง ููุดู ูุนูููุงุช ุญุณุงุณุฉ ุฅุถุงููุฉ
- ูุญูู ุถุฏ ูุฌูุงุช XSS ู CSRF

## ุฎุทุท ูุณุชูุจููุฉ

### ุชุญุณููุงุช ูุญุชููุฉ:
- ุฅุถุงูุฉ ุชูุงุตูู ุฃูุซุฑ ุนู ุงูุฑุตูุฏ (ุชุงุฑูุฎ ุขุฎุฑ ูุนุงููุฉ)
- ุฅุดุนุงุฑุงุช ุนูุฏ ุชุฌุงูุฒ ุญุฏูุฏ ุงูุงุฆุชูุงู
- ุฑุณูู ุจูุงููุฉ ูุชุทูุฑ ุงูุฑุตูุฏ
- ุชุตุฏูุฑ ุชูุงุฑูุฑ ุณุฑูุนุฉ ููุฑุตูุฏ

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** ููููู 2025  
**ุงูุญุงูุฉ:** โ ููุชูู ูุฌุงูุฒ ููุงุณุชุฎุฏุงู  
**ุงููุทูุฑ:** ูุฑูู ุชุทููุฑ FinsPilot
