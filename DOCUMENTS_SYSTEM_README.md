# نظام أرشفة المستندات الداعمة - Finspilot ERP

## نظرة عامة
تم إضافة نظام أرشفة شامل للمستندات الداعمة في نظام Finspilot ERP، يتيح ربط المستندات بالقيود المحاسبية والفواتير مع إمكانية عرض التقارير.

## الميزات المضافة

### 1. نموذج المستندات
- ربط عام بالكائنات باستخدام GenericForeignKey
- دعم المستندات العامة (غير مربوطة)
- تسجيل معلومات الرفع والمستخدم

### 2. واجهات المستخدم
- صفحة رفع المستندات مع ربط بالكائنات
- قائمة المستندات مع إمكانية الفلترة
- تقرير شامل للمستندات
- حذف المستندات مع التأكيد

### 3. التكامل مع النظام
- تضمين في قائمة التقارير
- تسجيل الأنشطة في سجل المراجعة
- تضمين في نظام النسخ الاحتياطي
- ترجمة كاملة للواجهات

## خطوات الفحص المختصرة

### 1. تسجيل الدخول
- انتقل إلى النظام وقم بتسجيل الدخول كمدير

### 2. رفع مستند لفاتورة
- اذهب إلى قسم المبيعات > الفواتير
- افتح فاتورة موجودة أو أنشئ فاتورة جديدة
- في صفحة الفاتورة، ابحث عن رابط "رفع مستند داعم"
- اختر ملف وأدخل عنوان واضغط رفع

### 3. عرض قائمة المستندات
- اذهب إلى قسم التقارير > تقرير المستندات الداعمة
- ستظهر جميع المستندات مع إمكانية الفلترة حسب النوع

### 4. التحقق من سجل الأنشطة
- اذهب إلى قسم الإعدادات > سجل الأنشطة
- ابحث عن الأنشطة المتعلقة بالمستندات

### 5. النسخ الاحتياطي
- اذهب إلى قسم النسخ الاحتياطي
- تأكد من تضمين المستندات في النسخة الاحتياطية

## الاختبار التلقائي
تم إنشاء سكريبت اختبار شامل (`test_documents.py`) يختبر جميع الوظائف:
- رفع المستندات المربوطة وغير المربوطة
- عرض القوائم والفلترة
- حذف المستندات
- إنشاء التقارير الإحصائية

لتشغيل الاختبار:
```bash
python test_documents.py
```

## النتائج
جميع الاختبارات نجحت وتم حفظ النتائج في `test_documents_result.txt`

## المتطلبات المحققة
✅ رفع المستندات وربطها بالقيود والفواتير
✅ عرض تقارير شاملة
✅ اختبار النظام وحفظ النتائج
✅ عدم تعطيل الميزات الحالية
✅ تسجيل الأنشطة
✅ تضمين في النسخ الاحتياطي
✅ ترجمة كاملة للواجهات