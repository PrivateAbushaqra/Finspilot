# Finspilot - نظام المحاسبة المتكامل

نظام محاسبة متكامل مبني بـ Django يوفر إدارة شاملة للحسابات المالية والمخزون.

## المميزات

### 🏠 الشاشة الرئيسية
- إحصائيات شاملة للمبيعات والمشتريات (يومية، شهرية، ربعية، نصف سنوية، سنوية)
- عرض إجمالي أرصدة البنوك
- روابط سريعة للوظائف الأساسية
- رسوم بيانية تفاعلية

### 🏦 الحسابات البنكية
- إدارة الحسابات البنكية المتعددة
- التحويل بين الحسابات البنكية
- التحويل بين البنوك والصناديق
- تتبع الأرصدة

### 📦 الفئات والمنتجات
- إدارة الفئات الهرمية
- إدارة المنتجات مع تفاصيل شاملة
- تحديد أسعار البيع ونسب الضرائب
- تنبيهات انخفاض المخزون

### 👥 العملاء والموردون
- إدارة بيانات العملاء والموردون
- إمكانية تعيين جهة كعميل ومورد
- تتبع سجل التعاملات
- إدارة حدود الائتمان

### 🛒 المشتريات
- إنشاء فواتير المشتريات
- إنشاء مردود المشتريات
- ربط مردود المشتريات بالفواتير الأصلية
- تحديث المخزون تلقائياً
- دعم الدفع نقداً أو بالذمم

### 💰 المبيعات
- إنشاء فواتير المبيعات مع ترقيم تلقائي
- إنشاء مردود المبيعات
- دعم الخصومات
- حساب الضرائب تلقائياً
- طباعة الفواتير بأحجام مختلفة (A4, A5)
- دعم الدفع نقداً أو بالذمم

### 📊 المخزون والمستودعات
- إدارة مستودعات متعددة مع مستودعات فرعية
- تتبع حركة المخزون
- التحويل بين المستودعات
- تنبيهات انخفاض المخزون
- تقارير المخزون التفصيلية

### 📋 التقارير
- تقارير المبيعات
- تقارير المشتريات
- تقارير الأرباح والخسائر
- الرسوم البيانية التفاعلية
- تقارير الضرائب

### ⚙️ إدارة النظام
- إدارة المستخدمين والصلاحيات
- إدارة أرقام المستندات
- إعدادات الشركة والشعار
- اختيار العملة
- دعم اللغتين العربية والإنجليزية

## متطلبات النظام

- Python 3.8+
- PostgreSQL 12+
- متصفح ويب حديث

## التثبيت والإعداد

### 1. متطلبات قاعدة البيانات
تأكد من تثبيت PostgreSQL وإنشاء قاعدة البيانات:

```sql
CREATE DATABASE Finspilot;
CREATE USER admin3 WITH PASSWORD 'pass';
GRANT ALL PRIVILEGES ON DATABASE Finspilot TO admin3;
```

### 2. تشغيل التثبيت التلقائي
شغل الملف `setup.bat` الذي سيقوم بـ:
- إنشاء البيئة الافتراضية
- تثبيت المتطلبات
- إنشاء قاعدة البيانات
- إنشاء البيانات الأولية

```cmd
setup.bat
```

### 3. تشغيل النظام
استخدم الملف `run.bat` لتشغيل النظام:

```cmd
run.bat
```

أو شغل الأوامر يدوياً:

```cmd
# تفعيل البيئة الافتراضية
finspilot_env\Scripts\activate

# تشغيل الخادم
python manage.py runserver
```

### 4. الوصول للنظام
افتح المتصفح واذهب إلى: `http://127.0.0.1:8000`

## بيانات تسجيل الدخول الافتراضية

### Super Admin
- **اسم المستخدم:** `superadmin`
- **كلمة المرور:** `password`

### Admin
- **اسم المستخدم:** `admin`
- **كلمة المرور:** `admin`

## هيكل المشروع

```
finspilot/
├── core/                   # التطبيق الأساسي
├── accounts/              # المصادقة
├── users/                 # إدارة المستخدمين
├── products/              # المنتجات والفئات
├── customers/             # العملاء والموردون
├── sales/                 # المبيعات
├── purchases/             # المشتريات
├── inventory/             # المخزون
├── banks/                 # الحسابات البنكية
├── cashboxes/             # الصناديق
├── journal/               # القيود المحاسبية
├── reports/               # التقارير
├── settings/              # الإعدادات
├── templates/             # قوالب HTML
├── static/                # الملفات الثابتة
└── media/                 # ملفات الوسائط
```

## المميزات التقنية

- **Framework:** Django 4.2
- **Database:** PostgreSQL
- **Frontend:** Bootstrap 5 RTL + Chart.js
- **API:** Django REST Framework
- **Authentication:** Django Auth مع نموذج مستخدم مخصص
- **Permissions:** نظام صلاحيات متقدم
- **Responsive Design:** تصميم متجاوب
- **RTL Support:** دعم كامل للغة العربية

## الصلاحيات

### Super Admin
- كامل الصلاحيات في النظام
- تغيير إعدادات الشركة والشعار
- إدارة المستخدمين والصلاحيات

### Admin
- جميع الصلاحيات عدا تغيير إعدادات الشركة
- حذف وتعديل الفواتير
- الوصول لجميع التقارير

### User
- صلاحيات محددة حسب التخصيص
- عدم القدرة على حذف الفواتير (افتراضياً)
- عدم القدرة على تعديل التواريخ والأرقام

## أرقام المستندات

يدعم النظام تخصيص أرقام المستندات التالية:
- فواتير المبيعات
- مردود المبيعات
- فواتير المشتريات
- مردود المشتريات
- التحويلات البنكية
- القيود المحاسبية
- تحويلات المستودعات

## دعم متعدد اللغات

النظام مجهز لدعم:
- العربية (افتراضي)
- الإنجليزية

## النشر على الخادم

لنشر النظام على خادم مستأجر:

1. قم بتحديث `settings.py`:
   - ضع `DEBUG = False`
   - أضف نطاق الخادم إلى `ALLOWED_HOSTS`
   - قم بتحديث إعدادات قاعدة البيانات

2. قم بجمع الملفات الثابتة:
   ```
   python manage.py collectstatic
   ```

3. استخدم خادم WSGI مثل Gunicorn أو uWSGI

## الدعم والمساعدة

للحصول على المساعدة أو الإبلاغ عن المشاكل، يرجى التواصل معنا.

## الترخيص

هذا المشروع محمي بحقوق الطبع والنشر.

---

**Finspilot Accounting System © 2025**
