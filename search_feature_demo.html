<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุซุงู ุนูู ุฎุงุตูุฉ ุงูุจุญุซ - Select2</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" rel="stylesheet" />
    <style>
        body {
            padding: 30px;
            background-color: #f5f5f5;
        }
        .demo-card {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 0 auto;
        }
        .demo-title {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
        }
        .demo-description {
            background: #e3f2fd;
            padding: 15px;
            border-right: 4px solid #2196F3;
            margin-bottom: 20px;
            border-radius: 5px;
        }
        .steps {
            background: #fff3e0;
            padding: 15px;
            border-right: 4px solid #ff9800;
            margin-top: 20px;
            border-radius: 5px;
        }
        .steps ol {
            margin: 10px 0 0 0;
            padding-right: 20px;
        }
        .note {
            background: #f1f8e9;
            padding: 15px;
            border-right: 4px solid #8bc34a;
            margin-top: 20px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="demo-card">
            <h2 class="demo-title">๐ ูุซุงู ุชูุถูุญู: ุฎุงุตูุฉ ุงูุจุญุซ ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ</h2>
            
            <div class="demo-description">
                <strong>๐ ุงููุตู:</strong>
                <p class="mb-0">ูุฐุง ูุซุงู ุชูุถูุญู ููุถุญ ููููุฉ ุนูู ุฎุงุตูุฉ ุงูุจุญุซ ุงููุถุงูุฉ ุฅูู ุตูุญุฉ ูุฑุฏูุฏ ุงููุดุชุฑูุงุช. ุงูููุฒุฉ ุชุชูุญ ูู ุงูุจุญุซ ุงูุณุฑูุน ูู ุงูููุงุชูุฑ ุจูุชุงุจุฉ ุงุณู ุงูููุฑุฏ ุฃู ุฑูู ุงููุงุชูุฑุฉ.</p>
            </div>

            <div class="mb-3">
                <label for="invoiceSelect" class="form-label">
                    <strong>ุงููุงุชูุฑุฉ ุงูุฃุตููุฉ *</strong>
                </label>
                <select id="invoiceSelect" class="form-control" style="width: 100%;">
                    <option value="">ุงุฎุชุฑ ุงููุงุชูุฑุฉ ุงูุฃุตููุฉ</option>
                    <option value="1" data-supplier="ุดุฑูุฉ ุงูููุฑ ููุชุฌุงุฑุฉ" data-invoice="INV-2024-001">INV-2024-001 - ุดุฑูุฉ ุงูููุฑ ููุชุฌุงุฑุฉ (2024-10-01)</option>
                    <option value="2" data-supplier="ูุคุณุณุฉ ุงูุฃูู" data-invoice="INV-2024-002">INV-2024-002 - ูุคุณุณุฉ ุงูุฃูู (2024-10-02)</option>
                    <option value="3" data-supplier="ุดุฑูุฉ ุงูุณูุงู" data-invoice="INV-2024-003">INV-2024-003 - ุดุฑูุฉ ุงูุณูุงู (2024-10-03)</option>
                    <option value="4" data-supplier="ูุคุณุณุฉ ุงูุจุฑูุฉ" data-invoice="INV-2024-004">INV-2024-004 - ูุคุณุณุฉ ุงูุจุฑูุฉ (2024-10-04)</option>
                    <option value="5" data-supplier="ุดุฑูุฉ ุงููุฌุงุญ" data-invoice="INV-2024-005">INV-2024-005 - ุดุฑูุฉ ุงููุฌุงุญ (2024-10-05)</option>
                    <option value="6" data-supplier="ูุคุณุณุฉ ุงูุฎูุฑ" data-invoice="INV-2024-006">INV-2024-006 - ูุคุณุณุฉ ุงูุฎูุฑ (2024-10-06)</option>
                    <option value="7" data-supplier="ุดุฑูุฉ ุงููุฌุฑ" data-invoice="INV-2024-007">INV-2024-007 - ุดุฑูุฉ ุงููุฌุฑ (2024-10-07)</option>
                    <option value="8" data-supplier="ูุคุณุณุฉ ุงูุชูุฏู" data-invoice="INV-2024-008">INV-2024-008 - ูุคุณุณุฉ ุงูุชูุฏู (2024-10-08)</option>
                    <option value="9" data-supplier="ุดุฑูุฉ ุงูุงุฒุฏูุงุฑ" data-invoice="INV-2024-009">INV-2024-009 - ุดุฑูุฉ ุงูุงุฒุฏูุงุฑ (2024-10-09)</option>
                    <option value="10" data-supplier="ูุคุณุณุฉ ุงูููุงุก" data-invoice="INV-2024-010">INV-2024-010 - ูุคุณุณุฉ ุงูููุงุก (2024-10-10)</option>
                </select>
            </div>

            <div class="steps">
                <strong>๐ ููููุฉ ุงูุงุณุชุฎุฏุงู:</strong>
                <ol>
                    <li>ุงููุฑ ุนูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ุฃุนูุงู</li>
                    <li>ุณุชุธูุฑ ุฎุงูุฉ ุงูุจุญุซ ูู ุงูุฃุนูู</li>
                    <li>ุงูุชุจ ุงุณู ุงูููุฑุฏ (ูุซุงู: "ุงูููุฑ" ุฃู "ุงูุฃูู")</li>
                    <li>ุฃู ุงูุชุจ ุฑูู ุงููุงุชูุฑุฉ (ูุซุงู: "001" ุฃู "002")</li>
                    <li>ุณุชุธูุฑ ุงููุชุงุฆุฌ ุงููุทุงุจูุฉ ููุฑุงู</li>
                    <li>ุงุฎุชุฑ ุงููุงุชูุฑุฉ ุงููุทููุจุฉ ูู ุงููุชุงุฆุฌ</li>
                </ol>
            </div>

            <div class="note">
                <strong>๐ก ููุงุญุธุฉ:</strong>
                <p class="mb-0">ูุฐุง ูุซุงู ุชูุถูุญู ููุท. ููุณ ุงูููุฒุฉ ุชู ุชุทุจูููุง ุนูู ุตูุญุฉ ูุฑุฏูุฏ ุงููุดุชุฑูุงุช ุงููุนููุฉ ูู ุงููุธุงู ุนูู ุงูุนููุงู:</p>
                <code style="display: block; background: white; padding: 10px; margin-top: 10px; border-radius: 5px;">
                    http://127.0.0.1:8000/ar/purchases/returns/add/
                </code>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    
    <script>
        $(document).ready(function() {
            // ุชููุฆุฉ Select2 ูุน ุฎุงุตูุฉ ุงูุจุญุซ
            $('#invoiceSelect').select2({
                language: 'ar',
                dir: 'rtl',
                placeholder: 'ุงุจุญุซ ุจุฑูู ุงููุงุชูุฑุฉ ุฃู ุงุณู ุงูููุฑุฏ...',
                allowClear: true,
                width: '100%',
                theme: 'bootstrap-5',
                matcher: function(params, data) {
                    // ุฅุฐุง ูู ููู ููุงู ูุต ุจุญุซุ ุฃุธูุฑ ุฌููุน ุงูุฎูุงุฑุงุช
                    if ($.trim(params.term) === '') {
                        return data;
                    }

                    // ุฅุฐุง ูู ููู ููุงู ูุต ููุฎูุงุฑุ ูุง ุชุนุฑุถู
                    if (typeof data.text === 'undefined') {
                        return null;
                    }

                    // ุงูุจุญุซ ูู ุงููุตุ ุงุณู ุงูููุฑุฏุ ูุฑูู ุงููุงุชูุฑุฉ
                    const searchTerm = params.term.toLowerCase();
                    const text = data.text.toLowerCase();
                    const supplier = $(data.element).data('supplier') ? $(data.element).data('supplier').toLowerCase() : '';
                    const invoice = $(data.element).data('invoice') ? $(data.element).data('invoice').toLowerCase() : '';

                    // ุฅุฐุง ูุฌุฏ ุงููุต ูู ุฃู ูู ุงูุญูููุ ุฃุธูุฑ ุงูุฎูุงุฑ
                    if (text.indexOf(searchTerm) > -1 || 
                        supplier.indexOf(searchTerm) > -1 || 
                        invoice.indexOf(searchTerm) > -1) {
                        return data;
                    }

                    return null;
                }
            });

            // ุนูุฏ ุงุฎุชูุงุฑ ุนูุตุฑ
            $('#invoiceSelect').on('select2:select', function (e) {
                const data = e.params.data;
                console.log('ุชู ุงุฎุชูุงุฑ:', data.text);
            });
        });
    </script>
</body>
</html>
