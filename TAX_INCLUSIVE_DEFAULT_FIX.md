# تعديل خيار Tax Inclusive في فاتورة المشتريات

## التاريخ
5 أكتوبر 2025

## المشكلة
كان خيار "Tax Inclusive" في صفحة إضافة فاتورة المشتريات غير مفعل بشكل افتراضي، مما يتطلب من المستخدم تفعيله يدوياً في كل مرة.

## الحل
تم تعديل الكود بحيث يكون خيار "Tax Inclusive" مفعلاً بشكل افتراضي عند تحميل الصفحة، مع إمكانية إلغاء التفعيل من قبل المستخدم.

## الملفات المعدلة
- `templates/purchases/invoice_add.html`: تم تعديل السطر 204 لجعل الخيار مفعلاً بشكل افتراضي

## التغييرات التقنية

### قبل التعديل
```html
<input class="form-check-input" type="checkbox" name="is_tax_inclusive" id="is_tax_inclusive" {% if form_data.is_tax_inclusive %}checked{% endif %}>
```

### بعد التعديل
```html
<input class="form-check-input" type="checkbox" name="is_tax_inclusive" id="is_tax_inclusive" checked>
```

## التأثير
- عند فتح صفحة إضافة فاتورة مشتريات جديدة، سيكون خيار "Tax Inclusive" مفعلاً بشكل افتراضي
- يمكن للمستخدم إلغاء التفعيل إذا أراد ذلك
- عند تفعيل الخيار، يتم حساب الضريبة وإضافتها للفاتورة
- عند إلغاء الخيار، لا يتم حساب أي ضريبة

## الاختبار
1. افتح صفحة إضافة فاتورة مشتريات: `http://127.0.0.1:8000/en/purchases/invoices/add/`
2. تأكد أن خيار "Tax Inclusive" مفعل بشكل افتراضي
3. أضف منتجات وتحقق من حساب الضريبة تلقائياً
4. قم بإلغاء تفعيل الخيار وتحقق من عدم حساب الضريبة

## الملاحظات
- التعديل يؤثر فقط على الواجهة الأمامية
- لا يوجد تأثير على عمليات الحفظ أو الاسترجاع
- التعديل متوافق مع نظام الترجمة الحالي
- التعديل متوافق مع نظام سجل الأنشطة
- التعديل متوافق مع عمليات النسخ الاحتياطي والاستعادة
