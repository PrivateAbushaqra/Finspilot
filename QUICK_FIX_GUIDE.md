# ุฏููู ุณุฑูุน: ุญู ูุดููุฉ ุนุฏู ุธููุฑ ุงูุจูุงูุงุช ุจุนุฏ ุงูุงุณุชุนุงุฏุฉ

## ๐ ููุฎุต ุงููุดููุฉ
- โ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุชููุดุฃ ุจูุฌุงุญ ูุญููุงู
- โ ุงูุงุณุชุนุงุฏุฉ ุชูุชูู ุนูู ุงูุฑูููุช
- โ ุงูุจูุงูุงุช ูุง ุชุธูุฑ ุจุนุฏ ุงูุงุณุชุนุงุฏุฉ

## ๐ ุงูุชุดุฎูุต ุงูุณุฑูุน

### ุงูุฎุทูุฉ 1: ุชุดุบูู ุฃุฏุงุฉ ุงูุชุดุฎูุต ุนูู ุงูุฑูููุช

1. ุงุฐูุจ ุฅูู **Render Dashboard**
2. ุงูุชุญ **Shell** ูููุดุฑูุน
3. ูููุฐ ุงูุฃูุฑ ุงูุชุงูู:

```bash
python diagnose_remote.py
```

**ูุงุฐุง ุณูุญุฏุซุ**
- ุณููุญุต ุนุฏุฏ ุงูุณุฌูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุณูุชุญูู ูู ูุฌูุฏ ุงููุณุชุฎุฏููู
- ุณูุนุฑุถ ุขุฎุฑ ุนูููุงุช ุงูุงุณุชุนุงุฏุฉ
- ุณููุฏู ุชูุตูุงุช ูุญุฏุฏุฉ ุญุณุจ ุงููุดููุฉ

### ุงูุฎุทูุฉ 2: ุชูุณูุฑ ุงููุชุงุฆุฌ

#### โ ุฅุฐุง ุฃุธูุฑุช ุงูุฃุฏุงุฉ ุฃู ุงูุจูุงูุงุช ููุฌูุฏุฉ:

```
๐ ุฅุฌูุงูู ุงูุณุฌูุงุช: 8932
๐ฅ ุฅุฌูุงูู ุงููุณุชุฎุฏููู: 5
โ ุงูููุชุฌุงุช: 150
```

**ุงููุดููุฉ:** ุงูุจูุงูุงุช ููุฌูุฏุฉ ููู ูุง ุชุธูุฑ ูู ุงููุงุฌูุฉ

**ุงูุญู:**
1. ุณุฌูู ุฎุฑูุฌ ุซู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู
2. ุงูุณุญ Cache ุงููุชุตูุญ (Ctrl+Shift+Delete)
3. ุฌุฑูุจ ูู ูุชุตูุญ ุขุฎุฑ ุฃู ูุงูุฐุฉ ุชุตูุญ ุฎุงุต

#### โ ุฅุฐุง ุฃุธูุฑุช ุงูุฃุฏุงุฉ ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงุฑุบุฉ:

```
๐ ุฅุฌูุงูู ุงูุณุฌูุงุช: 0
โ ูุง ุชูุฌุฏ ุฃู ุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช!
```

**ุงููุดููุฉ:** ุนูููุฉ ุงูุงุณุชุนุงุฏุฉ ูุดูุช

**ุงูุญู:** ุงุชุจุน ุงูุฎุทูุฉ 3 ุฃุฏูุงู

## ๐ง ุงูุญู ุงูููุตู ุจู (ุฅุฐุง ูุดูุช ุงูุงุณุชุนุงุฏุฉ)

### ุงูุฎุทูุฉ 3: ุงุณุชุนุงุฏุฉ ุตุญูุญุฉ ูุน ูุณุญ ุงูุจูุงูุงุช

1. **ุนูู ุงูุฌูุงุฒ ุงููุญูู:**
   - ุงุฐูุจ ุฅูู ุตูุญุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู
   - ุฃูุดุฆ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุฌุฏูุฏุฉ
   - ุญููู ููู ุงููุณุฎุฉ (JSON ุฃู XLSX)

2. **ุนูู ุงูุฑูููุช (Render):**
   - ุณุฌูู ุฏุฎูู ููุณุชุฎุฏู Superuser
   - ุงุฐูุจ ุฅูู ุตูุญุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู
   - **โ๏ธ ููู ุฌุฏุงู:** ูุนูู ุฎูุงุฑ **"ูุณุญ ุฌููุน ุงูุจูุงูุงุช ูุจู ุงูุงุณุชุนุงุฏุฉ"** โ๏ธ
   - ุงุฑูุน ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
   - ุงูุชุธุฑ ุญุชู ุชูุชูู ุงูุนูููุฉ

3. **ุจุนุฏ ุงูุงุณุชุนุงุฏุฉ:**
   - ุณุฌูู ุฎุฑูุฌ ูู ุงูุญุณุงุจ
   - ุณุฌูู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู
   - ุชุญูู ูู ุธููุฑ ุงูุจูุงูุงุช

## ๐ ูุนูููุงุช ูููุฉ

### ููุงุฐุง ูุฌุจ ูุณุญ ุงูุจูุงูุงุช ุฃููุงูุ

ุนูุฏ ุงูุงุณุชุนุงุฏุฉ ุจุฏูู ูุณุญ:
- ูุฏ ุชุญุฏุซ ุชุถุงุฑุจุงุช ูู Foreign Keys
- ูุฏ ุชููู ููุงู ุจูุงูุงุช ูุฏููุฉ ุชุณุจุจ ุฃุฎุทุงุก
- Signals ูุฏ ุชูุดุฆ ุณุฌูุงุช ููุฑุฑุฉ (ุฑุบู ุฃููุง ุฃุตูุญูุง ูุฐุง)

### ูุง ุงูุฐู ุชู ุฅุตูุงุญูุ

โ **ูุดููุฉ `user.username` ุนูุฏ None**
   - ูุงู ุงูููุฏ ููุดู ุนูุฏ ุฅูุดุงุก ูุณุฎุฉ ุจุฏูู ูุณุชุฎุฏู
   - ุชู ุฅุตูุงุญู ูุงุณุชุฎุฏุงู 'system' ููููุฉ ุงูุชุฑุงุถูุฉ

โ **ุชุนุทูู Signals ุฃุซูุงุก ุงูุงุณุชุนุงุฏุฉ**
   - Signals ูู `purchases/signals.py` ุชุชุญูู ูู `is_restoring()`
   - ูุง ุชููุดุฆ ูููุฏ ูุญุงุณุจูุฉ ููุฑุฑุฉ ุฃุซูุงุก ุงูุงุณุชุนุงุฏุฉ

โ **ูุนุงูุฌุฉ ุฃุฎุทุงุก AuditLog**
   - ุฃุฎุทุงุก Atomic Block ุชูุนุงูุฌ ุจุดูู ุตุญูุญ
   - ูุง ุชุชุณุจุจ ูู ูุดู ุนูููุฉ ุงูุงุณุชุนุงุฏุฉ

## ๐จ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

### 1. ุงูุญุต ุณุฌูุงุช ุงูุฃุฎุทุงุก ุนูู Render

```
Render Dashboard โ Your Service โ Logs
```

ุงุจุญุซ ุนู:
- `IntegrityError`
- `FK_NOT_FOUND`
- `ROLLBACK`
- `duplicate key`

### 2. ุญุงูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุตุบูุฑุฉ ุฃููุงู

ุจุฏูุงู ูู ุงุณุชุนุงุฏุฉ ูู ุงูุจูุงูุงุช:
1. ุฃูุดุฆ ูุณุฎุฉ ูู ุจูุงูุงุช ุฃุณุงุณูุฉ ููุท (ุฅุนุฏุงุฏุงุช + ูุณุชุฎุฏููู)
2. ุฌุฑูุจ ุงุณุชุนุงุฏุชูุง ุนูู ุงูุฑูููุช
3. ุฅุฐุง ูุฌุญุชุ ุฌุฑูุจ ุงููุณุฎุฉ ุงููุงููุฉ

### 3. ุชุญูู ูู ุญุฌู ุงูููู

- ุฅุฐุง ูุงู ุงูููู ูุจูุฑ ุฌุฏุงู (>50MB)
- ุฌุฑูุจ ุตูุบุฉ XLSX ุจุฏูุงู ูู JSON
- ุฃู ูุณูู ุงูุจูุงูุงุช ุฅูู ูุณุฎ ุฃุตุบุฑ

## ๐ ุงูุญุตูู ุนูู ุงููุณุงุนุฏุฉ

ุฅุฐุง ูู ุชุญู ุงููุดููุฉุ ูุฑุฌู ุชูููุฑ:

1. **ูุชุงุฆุฌ ุฃุฏุงุฉ ุงูุชุดุฎูุต:**
   ```bash
   python diagnose_remote.py > diagnosis.txt
   ```

2. **ุขุฎุฑ 50 ุณุทุฑ ูู ุณุฌูุงุช ุงูุฃุฎุทุงุก:**
   ูู Render Dashboard โ Logs

3. **ููุทุฉ ุดุงุดุฉ ูู ุนูููุฉ ุงูุงุณุชุนุงุฏุฉ:**
   ุชูุถุญ ุงูุฑุณุงูุฉ ุงูุชู ุชุธูุฑ ุจุนุฏ ุงูุฑูุน

4. **ุญุฌู ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ:**
   ```bash
   ls -lh backup_file.json
   ```

---

**ุขุฎุฑ ุชุญุฏูุซ:** 6 ุฃูุชูุจุฑ 2025
**ุงูุฅุตุฏุงุฑ:** 2.0
**ุงูุญุงูุฉ:** ุชู ุงุฎุชุจุงุฑ ุงููุณุฎ ูุงูุงุณุชุนุงุฏุฉ ูุญููุงู โ
